2023-08-01 13:04:35.146 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:04:37.057 +03:00 [INF] Executed DbCommand (104ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 13:04:37.192 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 13:04:37.597 +03:00 [INF] User profile is available. Using 'C:\Users\stasi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-01 13:04:37.865 +03:00 [INF] Now listening on: https://localhost:7256
2023-08-01 13:04:37.866 +03:00 [INF] Now listening on: http://localhost:5256
2023-08-01 13:04:37.871 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-01 13:04:37.871 +03:00 [INF] Hosting environment: Development
2023-08-01 13:04:37.872 +03:00 [INF] Content root path: D:\Программы\Visual Studio\VS Projects\PetFood\PetFood\
2023-08-01 13:04:39.699 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/index.html - -
2023-08-01 13:04:40.245 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 554.8350ms
2023-08-01 13:04:40.294 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2023-08-01 13:04:40.303 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 11972 application/javascript;+charset=utf-8 8.9593ms
2023-08-01 13:04:40.671 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - -
2023-08-01 13:04:40.803 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 131.1732ms
2023-08-01 13:05:16.083 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/Auth/register application/json 156
2023-08-01 13:05:16.603 +03:00 [INF] Executing endpoint 'PetFood.Controllers.AuthController.RegisterUser (PetFood)'
2023-08-01 13:05:16.631 +03:00 [INF] Route matched with {action = "RegisterUser", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(PetFood.BusinessLogic.Dto.UserRegistrationDto) on controller PetFood.Controllers.AuthController (PetFood).
2023-08-01 13:05:16.767 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:05:16.781 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-08-01 13:05:16.800 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-08-01 13:05:17.010 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2023-08-01 13:05:17.071 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-08-01 13:05:17.108 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2023-08-01 13:05:17.117 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-08-01 13:05:17.135 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-08-01 13:05:17.144 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-08-01 13:05:17.163 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
2023-08-01 13:05:17.175 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p16='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p17='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
SELECT @@ROWCOUNT;
2023-08-01 13:05:17.191 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 201
2023-08-01 13:05:17.199 +03:00 [INF] Executed action PetFood.Controllers.AuthController.RegisterUser (PetFood) in 560.0451ms
2023-08-01 13:05:17.203 +03:00 [INF] Executed endpoint 'PetFood.Controllers.AuthController.RegisterUser (PetFood)'
2023-08-01 13:05:17.215 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7256/api/Auth/register application/json 156 - 201 0 - 1131.9962ms
2023-08-01 13:05:29.294 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/Auth/login application/json 50
2023-08-01 13:05:29.304 +03:00 [INF] Executing endpoint 'PetFood.Controllers.AuthController.LoginUser (PetFood)'
2023-08-01 13:05:29.308 +03:00 [INF] Route matched with {action = "LoginUser", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(PetFood.BusinessLogic.Dto.UserLoginDto) on controller PetFood.Controllers.AuthController (PetFood).
2023-08-01 13:05:29.333 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:05:29.342 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-08-01 13:05:29.358 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-08-01 13:05:29.445 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-08-01 13:05:29.772 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-08-01 13:05:29.779 +03:00 [INF] Executed action PetFood.Controllers.AuthController.LoginUser (PetFood) in 468.1825ms
2023-08-01 13:05:29.781 +03:00 [INF] Executed endpoint 'PetFood.Controllers.AuthController.LoginUser (PetFood)'
2023-08-01 13:05:29.782 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7256/api/Auth/login application/json 50 - 200 - application/json;+charset=utf-8 488.2065ms
2023-08-01 13:05:40.440 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/FoodItem - -
2023-08-01 13:05:40.444 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.GetAllFoodItems (PetFood)'
2023-08-01 13:05:40.450 +03:00 [INF] Route matched with {action = "GetAllFoodItems", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.FoodItemDto]]] GetAllFoodItems() on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 13:05:40.454 +03:00 [ERR] Object sent from client is null. Controller: FoodItem, action: GetAllFoodItems
2023-08-01 13:05:40.457 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-08-01 13:05:40.458 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.GetAllFoodItems (PetFood) in 5.5584ms
2023-08-01 13:05:40.461 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.GetAllFoodItems (PetFood)'
2023-08-01 13:05:40.462 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/FoodItem - - - 400 - text/plain;+charset=utf-8 21.9918ms
2023-08-01 13:12:09.545 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:12:10.580 +03:00 [INF] Executed DbCommand (80ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 13:12:10.723 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 13:12:10.890 +03:00 [INF] User profile is available. Using 'C:\Users\stasi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-01 13:12:11.060 +03:00 [INF] Now listening on: https://localhost:7256
2023-08-01 13:12:11.061 +03:00 [INF] Now listening on: http://localhost:5256
2023-08-01 13:12:11.064 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-01 13:12:11.065 +03:00 [INF] Hosting environment: Development
2023-08-01 13:12:11.066 +03:00 [INF] Content root path: D:\Программы\Visual Studio\VS Projects\PetFood\PetFood\
2023-08-01 13:12:11.731 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/index.html - -
2023-08-01 13:12:12.146 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 429.8631ms
2023-08-01 13:12:12.192 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2023-08-01 13:12:12.197 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 11972 application/javascript;+charset=utf-8 5.5013ms
2023-08-01 13:12:12.294 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - -
2023-08-01 13:12:12.434 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 140.1612ms
2023-08-01 13:12:18.523 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/Auth/login application/json 50
2023-08-01 13:12:18.619 +03:00 [INF] Executing endpoint 'PetFood.Controllers.AuthController.LoginUser (PetFood)'
2023-08-01 13:12:18.652 +03:00 [INF] Route matched with {action = "LoginUser", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(PetFood.BusinessLogic.Dto.UserLoginDto) on controller PetFood.Controllers.AuthController (PetFood).
2023-08-01 13:12:18.754 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:12:18.772 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-08-01 13:12:18.793 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-08-01 13:12:18.806 +03:00 [INF] Executed action PetFood.Controllers.AuthController.LoginUser (PetFood) in 144.5843ms
2023-08-01 13:12:18.811 +03:00 [INF] Executed endpoint 'PetFood.Controllers.AuthController.LoginUser (PetFood)'
2023-08-01 13:12:18.822 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7256/api/Auth/login application/json 50 - 401 - application/problem+json;+charset=utf-8 298.9711ms
2023-08-01 13:13:08.117 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/Auth/login application/json 44
2023-08-01 13:13:08.121 +03:00 [INF] Executing endpoint 'PetFood.Controllers.AuthController.LoginUser (PetFood)'
2023-08-01 13:13:08.122 +03:00 [INF] Route matched with {action = "LoginUser", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(PetFood.BusinessLogic.Dto.UserLoginDto) on controller PetFood.Controllers.AuthController (PetFood).
2023-08-01 13:13:08.142 +03:00 [ERR] Invalid model state for the object. Controller: Auth, action: LoginUser
2023-08-01 13:13:08.144 +03:00 [INF] Executing UnprocessableEntityObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.SerializableError'.
2023-08-01 13:13:08.146 +03:00 [INF] Executed action PetFood.Controllers.AuthController.LoginUser (PetFood) in 22.8443ms
2023-08-01 13:13:08.148 +03:00 [INF] Executed endpoint 'PetFood.Controllers.AuthController.LoginUser (PetFood)'
2023-08-01 13:13:08.149 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7256/api/Auth/login application/json 44 - 422 - application/json;+charset=utf-8 32.9497ms
2023-08-01 13:13:17.360 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/Auth/login application/json 42
2023-08-01 13:13:17.363 +03:00 [INF] Executing endpoint 'PetFood.Controllers.AuthController.LoginUser (PetFood)'
2023-08-01 13:13:17.366 +03:00 [INF] Route matched with {action = "LoginUser", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginUser(PetFood.BusinessLogic.Dto.UserLoginDto) on controller PetFood.Controllers.AuthController (PetFood).
2023-08-01 13:13:17.388 +03:00 [ERR] Object sent from client is null. Controller: Auth, action: LoginUser
2023-08-01 13:13:17.389 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-08-01 13:13:17.391 +03:00 [INF] Executed action PetFood.Controllers.AuthController.LoginUser (PetFood) in 22.2963ms
2023-08-01 13:13:17.393 +03:00 [INF] Executed endpoint 'PetFood.Controllers.AuthController.LoginUser (PetFood)'
2023-08-01 13:13:17.395 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7256/api/Auth/login application/json 42 - 400 - text/plain;+charset=utf-8 35.9894ms
2023-08-01 13:13:24.433 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/FoodItem - -
2023-08-01 13:13:24.438 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.GetAllFoodItems (PetFood)'
2023-08-01 13:13:24.445 +03:00 [INF] Route matched with {action = "GetAllFoodItems", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.FoodItemDto]]] GetAllFoodItems() on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 13:13:24.467 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:13:24.535 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Description], [f].[FoodTypeId], [f].[Name], [f].[PetId], [f].[Price]
FROM [FoodItems] AS [f]
2023-08-01 13:13:24.550 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PetFood.BusinessLogic.Dto.FoodItemDto, PetFood.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-01 13:13:24.557 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.GetAllFoodItems (PetFood) in 109.0276ms
2023-08-01 13:13:24.559 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.GetAllFoodItems (PetFood)'
2023-08-01 13:13:24.560 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/FoodItem - - - 200 - application/json;+charset=utf-8 127.8948ms
2023-08-01 13:13:31.140 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/FoodItem application/json 107
2023-08-01 13:13:31.142 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood)'
2023-08-01 13:13:31.152 +03:00 [INF] Route matched with {action = "CreateFoodItem", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PetFood.BusinessLogic.Dto.FoodItemDto]] CreateFoodItem(PetFood.BusinessLogic.Dto.FoodItemDto) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 13:13:31.169 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:13:31.431 +03:00 [ERR] Failed executing DbCommand (22ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [FoodItems] ([Description], [FoodTypeId], [Name], [PetId], [Price])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [FoodItems]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-08-01 13:13:31.544 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'PetFood.DAL.DatabaseContext.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции INSERT с ограничением FOREIGN KEY "FK_FoodItems_FoodTypes_FoodTypeId". Конфликт произошел в базе данных "PetFood", таблица "dbo.FoodTypes", column 'Id'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e4cacc45-a7e2-43e8-9e29-35cd044e3f11
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции INSERT с ограничением FOREIGN KEY "FK_FoodItems_FoodTypes_FoodTypeId". Конфликт произошел в базе данных "PetFood", таблица "dbo.FoodTypes", column 'Id'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e4cacc45-a7e2-43e8-9e29-35cd044e3f11
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-08-01 13:13:31.704 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood) in 548.0027ms
2023-08-01 13:13:31.707 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood)'
2023-08-01 13:13:31.714 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции INSERT с ограничением FOREIGN KEY "FK_FoodItems_FoodTypes_FoodTypeId". Конфликт произошел в базе данных "PetFood", таблица "dbo.FoodTypes", column 'Id'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e4cacc45-a7e2-43e8-9e29-35cd044e3f11
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PetFood.BusinessLogic.Implementations.FoodItemService.AddFoodItemAsync(FoodItemDto FoodItemDto) in D:\Программы\Visual Studio\VS Projects\PetFood\PetFood.BusinessLogic\Implementations\FoodItemService.cs:line 24
   at PetFood.Controllers.FoodItemController.CreateFoodItem(FoodItemDto foodItemDto) in D:\Программы\Visual Studio\VS Projects\PetFood\PetFood\Controllers\FoodItemController.cs:line 31
   at lambda_method72(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-01 13:13:31.768 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7256/api/FoodItem application/json 107 - 500 - text/plain;+charset=utf-8 628.1770ms
2023-08-01 13:14:08.173 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/FoodItem - -
2023-08-01 13:14:08.187 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.GetAllFoodItems (PetFood)'
2023-08-01 13:14:08.191 +03:00 [INF] Route matched with {action = "GetAllFoodItems", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.FoodItemDto]]] GetAllFoodItems() on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 13:14:08.196 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:14:08.199 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Description], [f].[FoodTypeId], [f].[Name], [f].[PetId], [f].[Price]
FROM [FoodItems] AS [f]
2023-08-01 13:14:08.201 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PetFood.BusinessLogic.Dto.FoodItemDto, PetFood.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-01 13:14:08.203 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.GetAllFoodItems (PetFood) in 9.2269ms
2023-08-01 13:14:08.204 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.GetAllFoodItems (PetFood)'
2023-08-01 13:14:08.206 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/FoodItem - - - 200 - application/json;+charset=utf-8 33.3720ms
2023-08-01 13:14:31.295 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7256/api/FoodItem application/json 107
2023-08-01 13:14:31.298 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.UpdateFoodItem (PetFood)'
2023-08-01 13:14:31.301 +03:00 [INF] Route matched with {action = "UpdateFoodItem", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PetFood.BusinessLogic.Dto.FoodItemDto]] UpdateFoodItem(PetFood.BusinessLogic.Dto.FoodItemDto) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 13:14:31.308 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:14:31.322 +03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [FoodItems] ([Description], [FoodTypeId], [Name], [PetId], [Price])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [FoodItems]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-08-01 13:14:31.327 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'PetFood.DAL.DatabaseContext.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции INSERT с ограничением FOREIGN KEY "FK_FoodItems_FoodTypes_FoodTypeId". Конфликт произошел в базе данных "PetFood", таблица "dbo.FoodTypes", column 'Id'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e4cacc45-a7e2-43e8-9e29-35cd044e3f11
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции INSERT с ограничением FOREIGN KEY "FK_FoodItems_FoodTypes_FoodTypeId". Конфликт произошел в базе данных "PetFood", таблица "dbo.FoodTypes", column 'Id'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e4cacc45-a7e2-43e8-9e29-35cd044e3f11
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-08-01 13:14:31.434 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.UpdateFoodItem (PetFood) in 130.4747ms
2023-08-01 13:14:31.437 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.UpdateFoodItem (PetFood)'
2023-08-01 13:14:31.438 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции INSERT с ограничением FOREIGN KEY "FK_FoodItems_FoodTypes_FoodTypeId". Конфликт произошел в базе данных "PetFood", таблица "dbo.FoodTypes", column 'Id'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e4cacc45-a7e2-43e8-9e29-35cd044e3f11
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PetFood.BusinessLogic.Implementations.FoodItemService.UpdateFoodItemAsync(FoodItemDto foodItemDto) in D:\Программы\Visual Studio\VS Projects\PetFood\PetFood.BusinessLogic\Implementations\FoodItemService.cs:line 66
   at PetFood.Controllers.FoodItemController.UpdateFoodItem(FoodItemDto foodItemDto) in D:\Программы\Visual Studio\VS Projects\PetFood\PetFood\Controllers\FoodItemController.cs:line 40
   at lambda_method158(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-01 13:14:31.460 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7256/api/FoodItem application/json 107 - 500 - text/plain;+charset=utf-8 164.8893ms
2023-08-01 13:14:42.400 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7256/api/FoodItem/999 - -
2023-08-01 13:14:42.422 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.DeleteFoodItem (PetFood)'
2023-08-01 13:14:42.428 +03:00 [INF] Route matched with {action = "DeleteFoodItem", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] DeleteFoodItem(Int32) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 13:14:42.433 +03:00 [ERR] Object sent from client is null. Controller: FoodItem, action: DeleteFoodItem
2023-08-01 13:14:42.434 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-08-01 13:14:42.435 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.DeleteFoodItem (PetFood) in 4.9258ms
2023-08-01 13:14:42.436 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.DeleteFoodItem (PetFood)'
2023-08-01 13:14:42.437 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7256/api/FoodItem/999 - - - 400 - text/plain;+charset=utf-8 37.8634ms
2023-08-01 13:14:48.250 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/FoodItem - -
2023-08-01 13:14:48.257 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.GetAllFoodItems (PetFood)'
2023-08-01 13:14:48.260 +03:00 [INF] Route matched with {action = "GetAllFoodItems", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.FoodItemDto]]] GetAllFoodItems() on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 13:14:48.268 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:14:48.272 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Description], [f].[FoodTypeId], [f].[Name], [f].[PetId], [f].[Price]
FROM [FoodItems] AS [f]
2023-08-01 13:14:48.274 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PetFood.BusinessLogic.Dto.FoodItemDto, PetFood.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-01 13:14:48.275 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.GetAllFoodItems (PetFood) in 8.9456ms
2023-08-01 13:14:48.276 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.GetAllFoodItems (PetFood)'
2023-08-01 13:14:48.277 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/FoodItem - - - 200 - application/json;+charset=utf-8 27.4866ms
2023-08-01 13:14:53.379 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7256/api/FoodItem/999 - -
2023-08-01 13:14:53.381 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.DeleteFoodItem (PetFood)'
2023-08-01 13:14:53.383 +03:00 [INF] Route matched with {action = "DeleteFoodItem", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] DeleteFoodItem(Int32) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 13:14:53.385 +03:00 [ERR] Object sent from client is null. Controller: FoodItem, action: DeleteFoodItem
2023-08-01 13:14:53.386 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-08-01 13:14:53.387 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.DeleteFoodItem (PetFood) in 2.4428ms
2023-08-01 13:14:53.389 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.DeleteFoodItem (PetFood)'
2023-08-01 13:14:53.391 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7256/api/FoodItem/999 - - - 400 - text/plain;+charset=utf-8 12.0604ms
2023-08-01 13:14:56.530 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7256/api/FoodItem/1 - -
2023-08-01 13:14:56.531 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.DeleteFoodItem (PetFood)'
2023-08-01 13:14:56.533 +03:00 [INF] Route matched with {action = "DeleteFoodItem", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] DeleteFoodItem(Int32) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 13:14:56.536 +03:00 [ERR] Object sent from client is null. Controller: FoodItem, action: DeleteFoodItem
2023-08-01 13:14:56.538 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-08-01 13:14:56.540 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.DeleteFoodItem (PetFood) in 4.1137ms
2023-08-01 13:14:56.543 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.DeleteFoodItem (PetFood)'
2023-08-01 13:14:56.546 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7256/api/FoodItem/1 - - - 400 - text/plain;+charset=utf-8 15.4884ms
2023-08-01 13:16:13.196 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:16:14.299 +03:00 [INF] Executed DbCommand (118ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 13:16:14.420 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 13:16:14.591 +03:00 [INF] User profile is available. Using 'C:\Users\stasi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-01 13:16:14.752 +03:00 [INF] Now listening on: https://localhost:7256
2023-08-01 13:16:14.753 +03:00 [INF] Now listening on: http://localhost:5256
2023-08-01 13:16:14.756 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-01 13:16:14.757 +03:00 [INF] Hosting environment: Development
2023-08-01 13:16:14.758 +03:00 [INF] Content root path: D:\Программы\Visual Studio\VS Projects\PetFood\PetFood\
2023-08-01 13:16:15.456 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/index.html - -
2023-08-01 13:16:15.940 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 498.7939ms
2023-08-01 13:16:15.983 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2023-08-01 13:16:15.989 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 11972 application/javascript;+charset=utf-8 5.4609ms
2023-08-01 13:16:16.074 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - -
2023-08-01 13:16:16.215 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 141.0397ms
2023-08-01 13:16:24.051 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/FoodItem - -
2023-08-01 13:16:24.148 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.GetAllFoodItems (PetFood)'
2023-08-01 13:16:24.166 +03:00 [INF] Route matched with {action = "GetAllFoodItems", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.FoodItemDto]]] GetAllFoodItems() on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 13:16:24.223 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:16:24.289 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Description], [f].[FoodTypeId], [f].[Name], [f].[PetId], [f].[Price]
FROM [FoodItems] AS [f]
2023-08-01 13:16:24.313 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PetFood.BusinessLogic.Dto.FoodItemDto, PetFood.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-01 13:16:24.329 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.GetAllFoodItems (PetFood) in 152.1361ms
2023-08-01 13:16:24.332 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.GetAllFoodItems (PetFood)'
2023-08-01 13:16:24.347 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/FoodItem - - - 200 - application/json;+charset=utf-8 296.2359ms
2023-08-01 13:16:34.411 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7256/api/FoodItem/999 - -
2023-08-01 13:16:34.415 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.DeleteFoodItem (PetFood)'
2023-08-01 13:16:34.434 +03:00 [INF] Route matched with {action = "DeleteFoodItem", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] DeleteFoodItem(Int32) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 13:16:34.484 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:16:34.494 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__foodItemId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Description], [f].[FoodTypeId], [f].[Name], [f].[PetId], [f].[Price]
FROM [FoodItems] AS [f]
WHERE [f].[Id] = @__foodItemId_0
2023-08-01 13:16:34.553 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.DeleteFoodItem (PetFood) in 115.466ms
2023-08-01 13:16:34.556 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.DeleteFoodItem (PetFood)'
2023-08-01 13:16:34.561 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'Food item not found')
   at PetFood.BusinessLogic.Implementations.FoodItemService.DeleteFoodItemAsync(Int32 foodItemId) in D:\Программы\Visual Studio\VS Projects\PetFood\PetFood.BusinessLogic\Implementations\FoodItemService.cs:line 37
   at PetFood.Controllers.FoodItemController.DeleteFoodItem(Int32 id) in D:\Программы\Visual Studio\VS Projects\PetFood\PetFood\Controllers\FoodItemController.cs:line 48
   at lambda_method62(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-01 13:16:34.618 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7256/api/FoodItem/999 - - - 500 - text/plain;+charset=utf-8 206.6015ms
2023-08-01 13:17:25.772 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:17:26.852 +03:00 [INF] Executed DbCommand (86ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 13:17:26.987 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 13:17:27.158 +03:00 [INF] User profile is available. Using 'C:\Users\stasi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-01 13:17:27.311 +03:00 [INF] Now listening on: https://localhost:7256
2023-08-01 13:17:27.313 +03:00 [INF] Now listening on: http://localhost:5256
2023-08-01 13:17:27.317 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-01 13:17:27.318 +03:00 [INF] Hosting environment: Development
2023-08-01 13:17:27.319 +03:00 [INF] Content root path: D:\Программы\Visual Studio\VS Projects\PetFood\PetFood\
2023-08-01 13:17:28.151 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/index.html - -
2023-08-01 13:17:28.501 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 359.9222ms
2023-08-01 13:17:28.559 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2023-08-01 13:17:28.566 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 11972 application/javascript;+charset=utf-8 7.1094ms
2023-08-01 13:17:28.652 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - -
2023-08-01 13:17:28.804 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 152.9717ms
2023-08-01 13:17:33.183 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7256/api/FoodType/999 - -
2023-08-01 13:17:33.271 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodTypeController.DeleteFoodType (PetFood)'
2023-08-01 13:17:33.300 +03:00 [INF] Route matched with {action = "DeleteFoodType", controller = "FoodType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] DeleteFoodType(Int32) on controller PetFood.Controllers.FoodTypeController (PetFood).
2023-08-01 13:17:33.385 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:17:33.441 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__foodTypeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Description], [f].[Name], [f].[PetId]
FROM [FoodTypes] AS [f]
WHERE [f].[Id] = @__foodTypeId_0
2023-08-01 13:17:33.468 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-01 13:17:33.479 +03:00 [INF] Executed action PetFood.Controllers.FoodTypeController.DeleteFoodType (PetFood) in 169.7011ms
2023-08-01 13:17:33.483 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodTypeController.DeleteFoodType (PetFood)'
2023-08-01 13:17:33.495 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7256/api/FoodType/999 - - - 200 - text/plain;+charset=utf-8 312.3263ms
2023-08-01 13:17:44.448 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/FoodType - -
2023-08-01 13:17:44.451 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodTypeController.GetAllFoodTypes (PetFood)'
2023-08-01 13:17:44.455 +03:00 [INF] Route matched with {action = "GetAllFoodTypes", controller = "FoodType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.FoodTypeDto]]] GetAllFoodTypes() on controller PetFood.Controllers.FoodTypeController (PetFood).
2023-08-01 13:17:44.476 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:17:44.513 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Description], [f].[Name], [f].[PetId]
FROM [FoodTypes] AS [f]
2023-08-01 13:17:44.520 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PetFood.BusinessLogic.Dto.FoodTypeDto, PetFood.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-01 13:17:44.525 +03:00 [INF] Executed action PetFood.Controllers.FoodTypeController.GetAllFoodTypes (PetFood) in 66.9251ms
2023-08-01 13:17:44.527 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodTypeController.GetAllFoodTypes (PetFood)'
2023-08-01 13:17:44.528 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/FoodType - - - 200 - application/json;+charset=utf-8 80.0508ms
2023-08-01 13:17:55.505 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7256/api/FoodType/999 - -
2023-08-01 13:17:55.508 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodTypeController.DeleteFoodType (PetFood)'
2023-08-01 13:17:55.510 +03:00 [INF] Route matched with {action = "DeleteFoodType", controller = "FoodType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] DeleteFoodType(Int32) on controller PetFood.Controllers.FoodTypeController (PetFood).
2023-08-01 13:17:55.531 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:17:55.539 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__foodTypeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Description], [f].[Name], [f].[PetId]
FROM [FoodTypes] AS [f]
WHERE [f].[Id] = @__foodTypeId_0
2023-08-01 13:17:55.544 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-01 13:17:55.545 +03:00 [INF] Executed action PetFood.Controllers.FoodTypeController.DeleteFoodType (PetFood) in 32.1608ms
2023-08-01 13:17:55.547 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodTypeController.DeleteFoodType (PetFood)'
2023-08-01 13:17:55.548 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7256/api/FoodType/999 - - - 200 - text/plain;+charset=utf-8 43.4499ms
2023-08-01 13:18:00.217 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7256/api/FoodType/999 - -
2023-08-01 13:18:00.219 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodTypeController.DeleteFoodType (PetFood)'
2023-08-01 13:18:00.222 +03:00 [INF] Route matched with {action = "DeleteFoodType", controller = "FoodType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] DeleteFoodType(Int32) on controller PetFood.Controllers.FoodTypeController (PetFood).
2023-08-01 13:18:00.227 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:18:00.232 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__foodTypeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Description], [f].[Name], [f].[PetId]
FROM [FoodTypes] AS [f]
WHERE [f].[Id] = @__foodTypeId_0
2023-08-01 13:18:00.236 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-01 13:18:00.237 +03:00 [INF] Executed action PetFood.Controllers.FoodTypeController.DeleteFoodType (PetFood) in 12.1544ms
2023-08-01 13:18:00.238 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodTypeController.DeleteFoodType (PetFood)'
2023-08-01 13:18:00.239 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7256/api/FoodType/999 - - - 200 - text/plain;+charset=utf-8 22.2921ms
2023-08-01 13:18:13.815 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7256/api/FoodItem/999 - -
2023-08-01 13:18:13.817 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.DeleteFoodItem (PetFood)'
2023-08-01 13:18:13.823 +03:00 [INF] Route matched with {action = "DeleteFoodItem", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] DeleteFoodItem(Int32) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 13:18:19.502 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:18:19.512 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__foodItemId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Description], [f].[FoodTypeId], [f].[Name], [f].[PetId], [f].[Price]
FROM [FoodItems] AS [f]
WHERE [f].[Id] = @__foodItemId_0
2023-08-01 13:18:19.559 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.DeleteFoodItem (PetFood) in 5733.6783ms
2023-08-01 13:18:19.560 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.DeleteFoodItem (PetFood)'
2023-08-01 13:18:19.566 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: Food item not found
   at PetFood.BusinessLogic.Implementations.FoodItemService.DeleteFoodItemAsync(Int32 foodItemId) in D:\Программы\Visual Studio\VS Projects\PetFood\PetFood.BusinessLogic\Implementations\FoodItemService.cs:line 37
   at PetFood.Controllers.FoodItemController.DeleteFoodItem(Int32 id) in D:\Программы\Visual Studio\VS Projects\PetFood\PetFood\Controllers\FoodItemController.cs:line 48
   at lambda_method72(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-01 13:18:19.631 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7256/api/FoodItem/999 - - - 500 - text/plain;+charset=utf-8 5816.7499ms
2023-08-01 13:18:45.078 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7256/api/FoodType/999 - -
2023-08-01 13:18:45.080 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodTypeController.DeleteFoodType (PetFood)'
2023-08-01 13:18:45.081 +03:00 [INF] Route matched with {action = "DeleteFoodType", controller = "FoodType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] DeleteFoodType(Int32) on controller PetFood.Controllers.FoodTypeController (PetFood).
2023-08-01 13:18:48.791 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:18:49.793 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__foodTypeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Description], [f].[Name], [f].[PetId]
FROM [FoodTypes] AS [f]
WHERE [f].[Id] = @__foodTypeId_0
2023-08-01 13:18:59.674 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2023-08-01 13:18:59.676 +03:00 [INF] Executed action PetFood.Controllers.FoodTypeController.DeleteFoodType (PetFood) in 14593.3291ms
2023-08-01 13:18:59.677 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodTypeController.DeleteFoodType (PetFood)'
2023-08-01 13:18:59.679 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7256/api/FoodType/999 - - - 200 - text/plain;+charset=utf-8 14601.7684ms
2023-08-01 13:23:42.004 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:23:43.035 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 13:23:43.166 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 13:23:43.353 +03:00 [INF] User profile is available. Using 'C:\Users\stasi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-01 13:23:43.510 +03:00 [INF] Now listening on: https://localhost:7256
2023-08-01 13:23:43.511 +03:00 [INF] Now listening on: http://localhost:5256
2023-08-01 13:23:43.516 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-01 13:23:43.517 +03:00 [INF] Hosting environment: Development
2023-08-01 13:23:43.519 +03:00 [INF] Content root path: D:\Программы\Visual Studio\VS Projects\PetFood\PetFood\
2023-08-01 13:23:44.131 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/index.html - -
2023-08-01 13:23:44.483 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 359.7419ms
2023-08-01 13:23:44.528 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2023-08-01 13:23:44.535 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 11972 application/javascript;+charset=utf-8 6.6469ms
2023-08-01 13:23:44.639 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - -
2023-08-01 13:23:44.797 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 157.9701ms
2023-08-01 13:23:49.419 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/FoodItem - -
2023-08-01 13:23:49.501 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.GetAllFoodItems (PetFood)'
2023-08-01 13:23:49.517 +03:00 [INF] Route matched with {action = "GetAllFoodItems", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.FoodItemDto]]] GetAllFoodItems() on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 13:23:49.582 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:23:49.652 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Description], [f].[FoodTypeId], [f].[Name], [f].[PetId], [f].[Price]
FROM [FoodItems] AS [f]
2023-08-01 13:23:49.677 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PetFood.BusinessLogic.Dto.FoodItemDto, PetFood.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-01 13:23:49.690 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.GetAllFoodItems (PetFood) in 162.5662ms
2023-08-01 13:23:49.694 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.GetAllFoodItems (PetFood)'
2023-08-01 13:23:49.705 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/FoodItem - - - 200 - application/json;+charset=utf-8 286.5065ms
2023-08-01 13:23:55.862 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7256/api/FoodItem/999 - -
2023-08-01 13:23:55.868 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.DeleteFoodItem (PetFood)'
2023-08-01 13:23:55.881 +03:00 [INF] Route matched with {action = "DeleteFoodItem", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] DeleteFoodItem(Int32) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 13:24:01.651 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:24:01.661 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__foodItemId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Description], [f].[FoodTypeId], [f].[Name], [f].[PetId], [f].[Price]
FROM [FoodItems] AS [f]
WHERE [f].[Id] = @__foodItemId_0
2023-08-01 13:24:01.708 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.DeleteFoodItem (PetFood) in 5823.6544ms
2023-08-01 13:24:01.710 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.DeleteFoodItem (PetFood)'
2023-08-01 13:24:01.715 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: Food item not found
   at PetFood.BusinessLogic.Implementations.FoodItemService.DeleteFoodItemAsync(Int32 foodItemId) in D:\Программы\Visual Studio\VS Projects\PetFood\PetFood.BusinessLogic\Implementations\FoodItemService.cs:line 37
   at PetFood.Controllers.FoodItemController.DeleteFoodItem(Int32 id) in D:\Программы\Visual Studio\VS Projects\PetFood\PetFood\Controllers\FoodItemController.cs:line 48
   at lambda_method62(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-01 13:24:01.772 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7256/api/FoodItem/999 - - - 500 - text/plain;+charset=utf-8 5909.6651ms
2023-08-01 13:24:12.245 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7256/api/FoodType/999 - -
2023-08-01 13:24:12.249 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodTypeController.DeleteFoodType (PetFood)'
2023-08-01 13:24:12.253 +03:00 [INF] Route matched with {action = "DeleteFoodType", controller = "FoodType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] DeleteFoodType(Int32) on controller PetFood.Controllers.FoodTypeController (PetFood).
2023-08-01 13:24:16.403 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:24:16.414 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__foodTypeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Description], [f].[Name], [f].[PetId]
FROM [FoodTypes] AS [f]
WHERE [f].[Id] = @__foodTypeId_0
2023-08-01 13:24:16.456 +03:00 [INF] Executed action PetFood.Controllers.FoodTypeController.DeleteFoodType (PetFood) in 4201.0292ms
2023-08-01 13:24:16.458 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodTypeController.DeleteFoodType (PetFood)'
2023-08-01 13:24:16.460 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: Food type not found
   at PetFood.BusinessLogic.Implementations.FoodTypeService.DeleteFoodTypeAsync(Int32 foodTypeId) in D:\Программы\Visual Studio\VS Projects\PetFood\PetFood.BusinessLogic\Implementations\FoodTypeService.cs:line 37
   at PetFood.Controllers.FoodTypeController.DeleteFoodType(Int32 id) in D:\Программы\Visual Studio\VS Projects\PetFood\PetFood\Controllers\FoodTypeController.cs:line 48
   at lambda_method72(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-01 13:24:16.471 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7256/api/FoodType/999 - - - 500 - text/plain;+charset=utf-8 4226.1817ms
2023-08-01 13:24:32.472 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7256/api/Pet/999 - -
2023-08-01 13:24:32.474 +03:00 [INF] Executing endpoint 'PetFood.Controllers.PetController.DeletePet (PetFood)'
2023-08-01 13:24:32.477 +03:00 [INF] Route matched with {action = "DeletePet", controller = "Pet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] DeletePet(Int32) on controller PetFood.Controllers.PetController (PetFood).
2023-08-01 13:24:32.481 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:24:32.491 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__petId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name]
FROM [Pets] AS [p]
WHERE [p].[Id] = @__petId_0
2023-08-01 13:24:32.535 +03:00 [INF] Executed action PetFood.Controllers.PetController.DeletePet (PetFood) in 56.6051ms
2023-08-01 13:24:32.537 +03:00 [INF] Executed endpoint 'PetFood.Controllers.PetController.DeletePet (PetFood)'
2023-08-01 13:24:32.539 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: Pet not found
   at PetFood.BusinessLogic.Implementations.PetService.DeletePetAsync(Int32 petId) in D:\Программы\Visual Studio\VS Projects\PetFood\PetFood.BusinessLogic\Implementations\PetService.cs:line 37
   at PetFood.Controllers.PetController.DeletePet(Int32 id) in D:\Программы\Visual Studio\VS Projects\PetFood\PetFood\Controllers\PetController.cs:line 49
   at lambda_method82(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-01 13:24:32.550 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7256/api/Pet/999 - - - 500 - text/plain;+charset=utf-8 78.3123ms
2023-08-01 13:24:39.378 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7256/api/Role/99 - -
2023-08-01 13:24:39.380 +03:00 [INF] Executing endpoint 'PetFood.Controllers.RoleController.DeleteRole (PetFood)'
2023-08-01 13:24:39.384 +03:00 [INF] Route matched with {action = "DeleteRole", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] DeleteRole(System.String) on controller PetFood.Controllers.RoleController (PetFood).
2023-08-01 13:24:39.394 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:24:39.401 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 13:24:39.477 +03:00 [INF] Executed action PetFood.Controllers.RoleController.DeleteRole (PetFood) in 90.249ms
2023-08-01 13:24:39.479 +03:00 [INF] Executed endpoint 'PetFood.Controllers.RoleController.DeleteRole (PetFood)'
2023-08-01 13:24:39.481 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: Role not found
   at PetFood.BusinessLogic.Implementations.RoleService.DeleteRoleAsync(String roleName) in D:\Программы\Visual Studio\VS Projects\PetFood\PetFood.BusinessLogic\Implementations\RoleService.cs:line 54
   at PetFood.Controllers.RoleController.DeleteRole(String roleName) in D:\Программы\Visual Studio\VS Projects\PetFood\PetFood\Controllers\RoleController.cs:line 38
   at lambda_method92(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-01 13:24:39.490 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7256/api/Role/99 - - - 500 - text/plain;+charset=utf-8 112.4674ms
2023-08-01 13:24:49.759 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/Role/assign?username=123&roleName=123 - 0
2023-08-01 13:24:49.761 +03:00 [INF] Executing endpoint 'PetFood.Controllers.RoleController.AssignRoleToUser (PetFood)'
2023-08-01 13:24:49.766 +03:00 [INF] Route matched with {action = "AssignRoleToUser", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] AssignRoleToUser(System.String, System.String) on controller PetFood.Controllers.RoleController (PetFood).
2023-08-01 13:24:49.781 +03:00 [ERR] Object sent from client is null. Controller: Role, action: AssignRoleToUser
2023-08-01 13:24:49.783 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-08-01 13:24:49.784 +03:00 [INF] Executed action PetFood.Controllers.RoleController.AssignRoleToUser (PetFood) in 15.5646ms
2023-08-01 13:24:49.786 +03:00 [INF] Executed endpoint 'PetFood.Controllers.RoleController.AssignRoleToUser (PetFood)'
2023-08-01 13:24:49.787 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7256/api/Role/assign?username=123&roleName=123 - 0 - 400 - text/plain;+charset=utf-8 27.6544ms
2023-08-01 13:25:08.482 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/Role/assign?username=Baraban&roleName=123 - 0
2023-08-01 13:25:08.486 +03:00 [INF] Executing endpoint 'PetFood.Controllers.RoleController.AssignRoleToUser (PetFood)'
2023-08-01 13:25:08.489 +03:00 [INF] Route matched with {action = "AssignRoleToUser", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] AssignRoleToUser(System.String, System.String) on controller PetFood.Controllers.RoleController (PetFood).
2023-08-01 13:25:08.501 +03:00 [ERR] Object sent from client is null. Controller: Role, action: AssignRoleToUser
2023-08-01 13:25:08.503 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-08-01 13:25:08.504 +03:00 [INF] Executed action PetFood.Controllers.RoleController.AssignRoleToUser (PetFood) in 11.8575ms
2023-08-01 13:25:08.505 +03:00 [INF] Executed endpoint 'PetFood.Controllers.RoleController.AssignRoleToUser (PetFood)'
2023-08-01 13:25:08.506 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7256/api/Role/assign?username=Baraban&roleName=123 - 0 - 400 - text/plain;+charset=utf-8 25.1315ms
2023-08-01 13:25:12.275 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/Role/assign?username=Baraban&roleName=User - 0
2023-08-01 13:25:12.277 +03:00 [INF] Executing endpoint 'PetFood.Controllers.RoleController.AssignRoleToUser (PetFood)'
2023-08-01 13:25:12.285 +03:00 [INF] Route matched with {action = "AssignRoleToUser", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] AssignRoleToUser(System.String, System.String) on controller PetFood.Controllers.RoleController (PetFood).
2023-08-01 13:25:12.289 +03:00 [ERR] Object sent from client is null. Controller: Role, action: AssignRoleToUser
2023-08-01 13:25:12.291 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-08-01 13:25:12.292 +03:00 [INF] Executed action PetFood.Controllers.RoleController.AssignRoleToUser (PetFood) in 3.7053ms
2023-08-01 13:25:12.294 +03:00 [INF] Executed endpoint 'PetFood.Controllers.RoleController.AssignRoleToUser (PetFood)'
2023-08-01 13:25:12.295 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7256/api/Role/assign?username=Baraban&roleName=User - 0 - 400 - text/plain;+charset=utf-8 19.5272ms
2023-08-01 13:25:26.812 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/Pet application/json 33
2023-08-01 13:25:26.820 +03:00 [INF] Executing endpoint 'PetFood.Controllers.PetController.CreatePet (PetFood)'
2023-08-01 13:25:26.826 +03:00 [INF] Route matched with {action = "CreatePet", controller = "Pet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PetFood.BusinessLogic.Dto.PetDto]] CreatePet(PetFood.BusinessLogic.Dto.PetDto) on controller PetFood.Controllers.PetController (PetFood).
2023-08-01 13:25:26.850 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:25:27.105 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Pets] ([Name])
VALUES (@p0);
SELECT [Id]
FROM [Pets]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-08-01 13:25:27.180 +03:00 [INF] Executing OkObjectResult, writing value of type 'PetFood.BusinessLogic.Dto.PetDto'.
2023-08-01 13:25:27.183 +03:00 [INF] Executed action PetFood.Controllers.PetController.CreatePet (PetFood) in 354.4451ms
2023-08-01 13:25:27.184 +03:00 [INF] Executed endpoint 'PetFood.Controllers.PetController.CreatePet (PetFood)'
2023-08-01 13:25:27.186 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7256/api/Pet application/json 33 - 200 - application/json;+charset=utf-8 373.3787ms
2023-08-01 13:25:40.489 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/Pet - -
2023-08-01 13:25:40.490 +03:00 [INF] Executing endpoint 'PetFood.Controllers.PetController.GetAllPets (PetFood)'
2023-08-01 13:25:40.495 +03:00 [INF] Route matched with {action = "GetAllPets", controller = "Pet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.PetDto]]] GetAllPets() on controller PetFood.Controllers.PetController (PetFood).
2023-08-01 13:25:40.505 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:25:40.515 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name]
FROM [Pets] AS [p]
2023-08-01 13:25:40.517 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PetFood.BusinessLogic.Dto.PetDto, PetFood.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-01 13:25:40.518 +03:00 [INF] Executed action PetFood.Controllers.PetController.GetAllPets (PetFood) in 20.1424ms
2023-08-01 13:25:40.520 +03:00 [INF] Executed endpoint 'PetFood.Controllers.PetController.GetAllPets (PetFood)'
2023-08-01 13:25:40.520 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/Pet - - - 200 - application/json;+charset=utf-8 31.8990ms
2023-08-01 13:25:46.686 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7256/api/Pet/5 - -
2023-08-01 13:25:46.688 +03:00 [INF] Executing endpoint 'PetFood.Controllers.PetController.DeletePet (PetFood)'
2023-08-01 13:25:46.689 +03:00 [INF] Route matched with {action = "DeletePet", controller = "Pet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Int32]] DeletePet(Int32) on controller PetFood.Controllers.PetController (PetFood).
2023-08-01 13:25:46.693 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:25:46.703 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__petId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name]
FROM [Pets] AS [p]
WHERE [p].[Id] = @__petId_0
2023-08-01 13:25:46.733 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Pets]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;
2023-08-01 13:25:46.746 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2023-08-01 13:25:46.748 +03:00 [INF] Executed action PetFood.Controllers.PetController.DeletePet (PetFood) in 56.4091ms
2023-08-01 13:25:46.750 +03:00 [INF] Executed endpoint 'PetFood.Controllers.PetController.DeletePet (PetFood)'
2023-08-01 13:25:46.752 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7256/api/Pet/5 - - - 200 - application/json;+charset=utf-8 66.2498ms
2023-08-01 13:25:50.760 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/Pet - -
2023-08-01 13:25:50.762 +03:00 [INF] Executing endpoint 'PetFood.Controllers.PetController.GetAllPets (PetFood)'
2023-08-01 13:25:50.764 +03:00 [INF] Route matched with {action = "GetAllPets", controller = "Pet"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.PetDto]]] GetAllPets() on controller PetFood.Controllers.PetController (PetFood).
2023-08-01 13:25:50.774 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:25:50.785 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name]
FROM [Pets] AS [p]
2023-08-01 13:25:50.787 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PetFood.BusinessLogic.Dto.PetDto, PetFood.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-01 13:25:50.789 +03:00 [INF] Executed action PetFood.Controllers.PetController.GetAllPets (PetFood) in 16.9009ms
2023-08-01 13:25:50.790 +03:00 [INF] Executed endpoint 'PetFood.Controllers.PetController.GetAllPets (PetFood)'
2023-08-01 13:25:50.791 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/Pet - - - 200 - application/json;+charset=utf-8 30.9937ms
2023-08-01 13:26:00.348 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/Role/test - 0
2023-08-01 13:26:00.350 +03:00 [INF] Executing endpoint 'PetFood.Controllers.RoleController.CreateRole (PetFood)'
2023-08-01 13:26:00.356 +03:00 [INF] Route matched with {action = "CreateRole", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] CreateRole(System.String) on controller PetFood.Controllers.RoleController (PetFood).
2023-08-01 13:26:00.359 +03:00 [ERR] Object sent from client is null. Controller: Role, action: CreateRole
2023-08-01 13:26:00.359 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-08-01 13:26:00.360 +03:00 [INF] Executed action PetFood.Controllers.RoleController.CreateRole (PetFood) in 2.1856ms
2023-08-01 13:26:00.362 +03:00 [INF] Executed endpoint 'PetFood.Controllers.RoleController.CreateRole (PetFood)'
2023-08-01 13:26:00.363 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7256/api/Role/test - 0 - 400 - text/plain;+charset=utf-8 15.1645ms
2023-08-01 13:26:20.962 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/Role/assign?username=Baraban&roleName=User - 0
2023-08-01 13:26:20.966 +03:00 [INF] Executing endpoint 'PetFood.Controllers.RoleController.AssignRoleToUser (PetFood)'
2023-08-01 13:26:20.967 +03:00 [INF] Route matched with {action = "AssignRoleToUser", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] AssignRoleToUser(System.String, System.String) on controller PetFood.Controllers.RoleController (PetFood).
2023-08-01 13:26:20.969 +03:00 [ERR] Object sent from client is null. Controller: Role, action: AssignRoleToUser
2023-08-01 13:26:20.970 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-08-01 13:26:20.971 +03:00 [INF] Executed action PetFood.Controllers.RoleController.AssignRoleToUser (PetFood) in 2.6142ms
2023-08-01 13:26:20.973 +03:00 [INF] Executed endpoint 'PetFood.Controllers.RoleController.AssignRoleToUser (PetFood)'
2023-08-01 13:26:20.975 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7256/api/Role/assign?username=Baraban&roleName=User - 0 - 400 - text/plain;+charset=utf-8 13.4001ms
2023-08-01 13:28:40.037 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:28:41.126 +03:00 [INF] Executed DbCommand (89ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 13:28:41.240 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 13:28:41.420 +03:00 [INF] User profile is available. Using 'C:\Users\stasi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-01 13:28:41.590 +03:00 [INF] Now listening on: https://localhost:7256
2023-08-01 13:28:41.591 +03:00 [INF] Now listening on: http://localhost:5256
2023-08-01 13:28:41.594 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-01 13:28:41.596 +03:00 [INF] Hosting environment: Development
2023-08-01 13:28:41.597 +03:00 [INF] Content root path: D:\Программы\Visual Studio\VS Projects\PetFood\PetFood\
2023-08-01 13:28:42.607 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/index.html - -
2023-08-01 13:28:43.011 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 413.7411ms
2023-08-01 13:28:43.072 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2023-08-01 13:28:43.084 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 11972 application/javascript;+charset=utf-8 11.6558ms
2023-08-01 13:28:43.192 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - -
2023-08-01 13:28:43.314 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 122.2807ms
2023-08-01 13:28:54.974 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/Role/assign?username=re&roleName=re - 0
2023-08-01 13:28:55.074 +03:00 [INF] Executing endpoint 'PetFood.Controllers.RoleController.AssignRoleToUser (PetFood)'
2023-08-01 13:28:55.103 +03:00 [INF] Route matched with {action = "AssignRoleToUser", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] AssignRoleToUser(System.String, System.String) on controller PetFood.Controllers.RoleController (PetFood).
2023-08-01 13:28:55.199 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:28:55.217 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-08-01 13:28:55.240 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2023-08-01 13:28:55.254 +03:00 [INF] Executed action PetFood.Controllers.RoleController.AssignRoleToUser (PetFood) in 141.3266ms
2023-08-01 13:28:55.259 +03:00 [INF] Executed endpoint 'PetFood.Controllers.RoleController.AssignRoleToUser (PetFood)'
2023-08-01 13:28:55.272 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7256/api/Role/assign?username=re&roleName=re - 0 - 200 - application/json;+charset=utf-8 297.5074ms
2023-08-01 13:29:01.539 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/Role/assign?username=re&roleName=User - 0
2023-08-01 13:29:01.542 +03:00 [INF] Executing endpoint 'PetFood.Controllers.RoleController.AssignRoleToUser (PetFood)'
2023-08-01 13:29:01.543 +03:00 [INF] Route matched with {action = "AssignRoleToUser", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] AssignRoleToUser(System.String, System.String) on controller PetFood.Controllers.RoleController (PetFood).
2023-08-01 13:29:01.570 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:29:01.580 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-08-01 13:29:01.583 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2023-08-01 13:29:01.584 +03:00 [INF] Executed action PetFood.Controllers.RoleController.AssignRoleToUser (PetFood) in 38.217ms
2023-08-01 13:29:01.585 +03:00 [INF] Executed endpoint 'PetFood.Controllers.RoleController.AssignRoleToUser (PetFood)'
2023-08-01 13:29:01.586 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7256/api/Role/assign?username=re&roleName=User - 0 - 200 - application/json;+charset=utf-8 47.9516ms
2023-08-01 13:29:07.931 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/Role/assign?username=Baraban&roleName=User - 0
2023-08-01 13:29:07.936 +03:00 [INF] Executing endpoint 'PetFood.Controllers.RoleController.AssignRoleToUser (PetFood)'
2023-08-01 13:29:07.938 +03:00 [INF] Route matched with {action = "AssignRoleToUser", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] AssignRoleToUser(System.String, System.String) on controller PetFood.Controllers.RoleController (PetFood).
2023-08-01 13:29:07.953 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:29:07.959 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-08-01 13:29:08.031 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-08-01 13:29:08.075 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2023-08-01 13:29:08.099 +03:00 [WRN] User is already in role User.
2023-08-01 13:29:08.103 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2023-08-01 13:29:08.104 +03:00 [INF] Executed action PetFood.Controllers.RoleController.AssignRoleToUser (PetFood) in 163.9886ms
2023-08-01 13:29:08.106 +03:00 [INF] Executed endpoint 'PetFood.Controllers.RoleController.AssignRoleToUser (PetFood)'
2023-08-01 13:29:08.107 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7256/api/Role/assign?username=Baraban&roleName=User - 0 - 200 - application/json;+charset=utf-8 176.1672ms
2023-08-01 13:29:18.011 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/Role/assign?username=Baraban&roleName=Administrator - 0
2023-08-01 13:29:18.014 +03:00 [INF] Executing endpoint 'PetFood.Controllers.RoleController.AssignRoleToUser (PetFood)'
2023-08-01 13:29:18.015 +03:00 [INF] Route matched with {action = "AssignRoleToUser", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] AssignRoleToUser(System.String, System.String) on controller PetFood.Controllers.RoleController (PetFood).
2023-08-01 13:29:18.019 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:29:18.029 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-08-01 13:29:18.035 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-08-01 13:29:18.040 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2023-08-01 13:29:18.043 +03:00 [WRN] User is already in role Administrator.
2023-08-01 13:29:18.044 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2023-08-01 13:29:18.045 +03:00 [INF] Executed action PetFood.Controllers.RoleController.AssignRoleToUser (PetFood) in 26.1066ms
2023-08-01 13:29:18.046 +03:00 [INF] Executed endpoint 'PetFood.Controllers.RoleController.AssignRoleToUser (PetFood)'
2023-08-01 13:29:18.047 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7256/api/Role/assign?username=Baraban&roleName=Administrator - 0 - 200 - application/json;+charset=utf-8 35.7642ms
2023-08-01 13:29:23.500 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/Role - -
2023-08-01 13:29:23.501 +03:00 [INF] Executing endpoint 'PetFood.Controllers.RoleController.GetAllRoles (PetFood)'
2023-08-01 13:29:23.506 +03:00 [INF] Route matched with {action = "GetAllRoles", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[System.String]]] GetAllRoles() on controller PetFood.Controllers.RoleController (PetFood).
2023-08-01 13:29:23.510 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:29:23.534 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Name]
FROM [AspNetRoles] AS [a]
2023-08-01 13:29:23.541 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-08-01 13:29:23.543 +03:00 [INF] Executed action PetFood.Controllers.RoleController.GetAllRoles (PetFood) in 35.3033ms
2023-08-01 13:29:23.545 +03:00 [INF] Executed endpoint 'PetFood.Controllers.RoleController.GetAllRoles (PetFood)'
2023-08-01 13:29:23.546 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/Role - - - 200 - application/json;+charset=utf-8 46.7264ms
2023-08-01 13:29:31.153 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/User - -
2023-08-01 13:29:31.155 +03:00 [INF] Executing endpoint 'PetFood.Controllers.UserController.GetAllUsers (PetFood)'
2023-08-01 13:29:31.160 +03:00 [INF] Route matched with {action = "GetAllUsers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.UserDto]]] GetAllUsers() on controller PetFood.Controllers.UserController (PetFood).
2023-08-01 13:29:31.166 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:29:31.175 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2023-08-01 13:29:31.277 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-08-01 13:29:31.285 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-08-01 13:29:31.288 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-08-01 13:29:31.290 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PetFood.BusinessLogic.Dto.UserDto, PetFood.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-01 13:29:31.293 +03:00 [INF] Executed action PetFood.Controllers.UserController.GetAllUsers (PetFood) in 128.3661ms
2023-08-01 13:29:31.294 +03:00 [INF] Executed endpoint 'PetFood.Controllers.UserController.GetAllUsers (PetFood)'
2023-08-01 13:29:31.296 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/User - - - 200 - application/json;+charset=utf-8 143.8966ms
2023-08-01 13:29:50.845 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/Role/assign?username=User&roleName=Administrator - 0
2023-08-01 13:29:50.849 +03:00 [INF] Executing endpoint 'PetFood.Controllers.RoleController.AssignRoleToUser (PetFood)'
2023-08-01 13:29:50.851 +03:00 [INF] Route matched with {action = "AssignRoleToUser", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] AssignRoleToUser(System.String, System.String) on controller PetFood.Controllers.RoleController (PetFood).
2023-08-01 13:29:50.854 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:29:50.860 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-08-01 13:29:50.865 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-08-01 13:29:50.871 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2023-08-01 13:29:50.877 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-08-01 13:29:50.907 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-08-01 13:29:50.926 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-08-01 13:29:51.081 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
2023-08-01 13:29:51.113 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p16='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p17='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
SELECT @@ROWCOUNT;
2023-08-01 13:29:51.155 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2023-08-01 13:29:51.158 +03:00 [INF] Executed action PetFood.Controllers.RoleController.AssignRoleToUser (PetFood) in 304.6519ms
2023-08-01 13:29:51.160 +03:00 [INF] Executed endpoint 'PetFood.Controllers.RoleController.AssignRoleToUser (PetFood)'
2023-08-01 13:29:51.161 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7256/api/Role/assign?username=User&roleName=Administrator - 0 - 200 - application/json;+charset=utf-8 316.6706ms
2023-08-01 13:29:55.267 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/User - -
2023-08-01 13:29:55.275 +03:00 [INF] Executing endpoint 'PetFood.Controllers.UserController.GetAllUsers (PetFood)'
2023-08-01 13:29:55.278 +03:00 [INF] Route matched with {action = "GetAllUsers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.UserDto]]] GetAllUsers() on controller PetFood.Controllers.UserController (PetFood).
2023-08-01 13:29:55.285 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:29:55.291 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2023-08-01 13:29:55.298 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-08-01 13:29:55.301 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-08-01 13:29:55.304 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-08-01 13:29:55.307 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PetFood.BusinessLogic.Dto.UserDto, PetFood.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-01 13:29:55.310 +03:00 [INF] Executed action PetFood.Controllers.UserController.GetAllUsers (PetFood) in 25.3389ms
2023-08-01 13:29:55.311 +03:00 [INF] Executed endpoint 'PetFood.Controllers.UserController.GetAllUsers (PetFood)'
2023-08-01 13:29:55.312 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/User - - - 200 - application/json;+charset=utf-8 45.3838ms
2023-08-01 13:37:31.607 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:37:32.898 +03:00 [INF] Executed DbCommand (96ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 13:37:33.020 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 13:37:33.262 +03:00 [INF] User profile is available. Using 'C:\Users\stasi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-01 13:37:33.504 +03:00 [INF] Now listening on: https://localhost:7256
2023-08-01 13:37:33.506 +03:00 [INF] Now listening on: http://localhost:5256
2023-08-01 13:37:33.509 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-01 13:37:33.510 +03:00 [INF] Hosting environment: Development
2023-08-01 13:37:33.511 +03:00 [INF] Content root path: D:\Программы\Visual Studio\VS Projects\PetFood\PetFood\
2023-08-01 13:37:34.431 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/index.html - -
2023-08-01 13:37:34.966 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 545.8034ms
2023-08-01 13:37:35.012 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2023-08-01 13:37:35.020 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 11972 application/javascript;+charset=utf-8 7.9767ms
2023-08-01 13:37:35.132 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - -
2023-08-01 13:37:35.283 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 151.1095ms
2023-08-01 13:37:41.678 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/User - -
2023-08-01 13:37:41.799 +03:00 [INF] Executing endpoint 'PetFood.Controllers.UserController.GetAllUsers (PetFood)'
2023-08-01 13:37:41.822 +03:00 [INF] Route matched with {action = "GetAllUsers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.UserDto]]] GetAllUsers() on controller PetFood.Controllers.UserController (PetFood).
2023-08-01 13:37:41.886 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:37:41.914 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2023-08-01 13:37:42.084 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-08-01 13:37:42.092 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-08-01 13:37:42.098 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-08-01 13:37:42.112 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PetFood.BusinessLogic.Dto.UserDto, PetFood.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-01 13:37:42.130 +03:00 [INF] Executed action PetFood.Controllers.UserController.GetAllUsers (PetFood) in 297.4141ms
2023-08-01 13:37:42.135 +03:00 [INF] Executed endpoint 'PetFood.Controllers.UserController.GetAllUsers (PetFood)'
2023-08-01 13:37:42.152 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/User - - - 200 - application/json;+charset=utf-8 473.5092ms
2023-08-01 13:37:53.732 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/Role/revoke?username=User&roleName=Administrator - 0
2023-08-01 13:37:53.736 +03:00 [INF] Executing endpoint 'PetFood.Controllers.RoleController.RevokeRoleFromUser (PetFood)'
2023-08-01 13:37:53.753 +03:00 [INF] Route matched with {action = "RevokeRoleFromUser", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] RevokeRoleFromUser(System.String, System.String) on controller PetFood.Controllers.RoleController (PetFood).
2023-08-01 13:37:53.824 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:37:53.836 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-08-01 13:37:53.859 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-08-01 13:37:53.883 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2023-08-01 13:37:53.922 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-08-01 13:37:53.954 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-08-01 13:37:53.972 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-08-01 13:37:54.173 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [AspNetUserRoles]
WHERE [RoleId] = @p0 AND [UserId] = @p1;
SELECT @@ROWCOUNT;
2023-08-01 13:37:54.212 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p16='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p17='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
SELECT @@ROWCOUNT;
2023-08-01 13:37:54.259 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2023-08-01 13:37:54.261 +03:00 [INF] Executed action PetFood.Controllers.RoleController.RevokeRoleFromUser (PetFood) in 505.0384ms
2023-08-01 13:37:54.263 +03:00 [INF] Executed endpoint 'PetFood.Controllers.RoleController.RevokeRoleFromUser (PetFood)'
2023-08-01 13:37:54.265 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7256/api/Role/revoke?username=User&roleName=Administrator - 0 - 200 - application/json;+charset=utf-8 532.5683ms
2023-08-01 13:37:58.653 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/User - -
2023-08-01 13:37:58.657 +03:00 [INF] Executing endpoint 'PetFood.Controllers.UserController.GetAllUsers (PetFood)'
2023-08-01 13:37:58.658 +03:00 [INF] Route matched with {action = "GetAllUsers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.UserDto]]] GetAllUsers() on controller PetFood.Controllers.UserController (PetFood).
2023-08-01 13:37:58.663 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:37:58.669 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2023-08-01 13:37:58.675 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-08-01 13:37:58.678 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-08-01 13:37:58.681 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-08-01 13:37:58.684 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PetFood.BusinessLogic.Dto.UserDto, PetFood.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-01 13:37:58.685 +03:00 [INF] Executed action PetFood.Controllers.UserController.GetAllUsers (PetFood) in 25.1826ms
2023-08-01 13:37:58.686 +03:00 [INF] Executed endpoint 'PetFood.Controllers.UserController.GetAllUsers (PetFood)'
2023-08-01 13:37:58.687 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/User - - - 200 - application/json;+charset=utf-8 34.7132ms
2023-08-01 13:38:53.429 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/Auth/register application/json 156
2023-08-01 13:38:53.433 +03:00 [INF] Executing endpoint 'PetFood.Controllers.AuthController.RegisterUser (PetFood)'
2023-08-01 13:38:53.437 +03:00 [INF] Route matched with {action = "RegisterUser", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(PetFood.BusinessLogic.Dto.UserRegistrationDto) on controller PetFood.Controllers.AuthController (PetFood).
2023-08-01 13:38:53.496 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:38:53.504 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-08-01 13:38:53.512 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-08-01 13:38:53.515 +03:00 [WRN] User validation failed: DuplicateUserName;DuplicateEmail.
2023-08-01 13:38:53.520 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Identity.IdentityResult'.
2023-08-01 13:38:53.523 +03:00 [INF] Executed action PetFood.Controllers.AuthController.RegisterUser (PetFood) in 83.7818ms
2023-08-01 13:38:53.524 +03:00 [INF] Executed endpoint 'PetFood.Controllers.AuthController.RegisterUser (PetFood)'
2023-08-01 13:38:53.525 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7256/api/Auth/register application/json 156 - 400 - application/json;+charset=utf-8 95.8385ms
2023-08-01 13:39:13.431 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/Auth/register application/json 156
2023-08-01 13:39:13.435 +03:00 [INF] Executing endpoint 'PetFood.Controllers.AuthController.RegisterUser (PetFood)'
2023-08-01 13:39:13.437 +03:00 [INF] Route matched with {action = "RegisterUser", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(PetFood.BusinessLogic.Dto.UserRegistrationDto) on controller PetFood.Controllers.AuthController (PetFood).
2023-08-01 13:39:13.447 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:39:13.452 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-08-01 13:39:13.457 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-08-01 13:39:13.460 +03:00 [WRN] User validation failed: DuplicateUserName;DuplicateEmail.
2023-08-01 13:39:13.461 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Identity.IdentityResult'.
2023-08-01 13:39:13.462 +03:00 [INF] Executed action PetFood.Controllers.AuthController.RegisterUser (PetFood) in 23.3163ms
2023-08-01 13:39:13.463 +03:00 [INF] Executed endpoint 'PetFood.Controllers.AuthController.RegisterUser (PetFood)'
2023-08-01 13:39:13.464 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7256/api/Auth/register application/json 156 - 400 - application/json;+charset=utf-8 33.6855ms
2023-08-01 13:39:37.366 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/Role/User - 0
2023-08-01 13:39:37.369 +03:00 [INF] Executing endpoint 'PetFood.Controllers.RoleController.CreateRole (PetFood)'
2023-08-01 13:39:37.372 +03:00 [INF] Route matched with {action = "CreateRole", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Boolean]] CreateRole(System.String) on controller PetFood.Controllers.RoleController (PetFood).
2023-08-01 13:39:37.379 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:39:37.384 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 13:39:37.504 +03:00 [INF] Executed action PetFood.Controllers.RoleController.CreateRole (PetFood) in 129.3551ms
2023-08-01 13:39:37.507 +03:00 [INF] Executed endpoint 'PetFood.Controllers.RoleController.CreateRole (PetFood)'
2023-08-01 13:39:37.518 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: Role already exist
   at PetFood.BusinessLogic.Implementations.RoleService.CreateRoleAsync(String roleName) in D:\Программы\Visual Studio\VS Projects\PetFood\PetFood.BusinessLogic\Implementations\RoleService.cs:line 39
   at PetFood.Controllers.RoleController.CreateRole(String roleName) in D:\Программы\Visual Studio\VS Projects\PetFood\PetFood\Controllers\RoleController.cs:line 28
   at lambda_method258(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-01 13:39:37.628 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7256/api/Role/User - 0 - 500 - text/plain;+charset=utf-8 262.2363ms
2023-08-01 13:39:45.811 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/Role - -
2023-08-01 13:39:45.813 +03:00 [INF] Executing endpoint 'PetFood.Controllers.RoleController.GetAllRoles (PetFood)'
2023-08-01 13:39:45.817 +03:00 [INF] Route matched with {action = "GetAllRoles", controller = "Role"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[System.String]]] GetAllRoles() on controller PetFood.Controllers.RoleController (PetFood).
2023-08-01 13:39:45.832 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 13:39:45.838 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Name]
FROM [AspNetRoles] AS [a]
2023-08-01 13:39:45.841 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-08-01 13:39:45.842 +03:00 [INF] Executed action PetFood.Controllers.RoleController.GetAllRoles (PetFood) in 21.8048ms
2023-08-01 13:39:45.843 +03:00 [INF] Executed endpoint 'PetFood.Controllers.RoleController.GetAllRoles (PetFood)'
2023-08-01 13:39:45.844 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/Role - - - 200 - application/json;+charset=utf-8 33.6331ms
2023-08-01 14:08:51.009 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 14:08:52.341 +03:00 [INF] Executed DbCommand (101ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 14:08:52.480 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 14:08:52.756 +03:00 [INF] User profile is available. Using 'C:\Users\stasi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-01 14:08:53.021 +03:00 [INF] Now listening on: https://localhost:7256
2023-08-01 14:08:53.022 +03:00 [INF] Now listening on: http://localhost:5256
2023-08-01 14:08:53.025 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-01 14:08:53.026 +03:00 [INF] Hosting environment: Development
2023-08-01 14:08:53.026 +03:00 [INF] Content root path: D:\Программы\Visual Studio\VS Projects\PetFood\PetFood\
2023-08-01 14:08:53.887 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/index.html - -
2023-08-01 14:08:54.298 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 417.6239ms
2023-08-01 14:08:54.346 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2023-08-01 14:08:54.354 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 11972 application/javascript;+charset=utf-8 7.7578ms
2023-08-01 14:08:54.480 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - -
2023-08-01 14:08:54.617 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 137.0165ms
2023-08-01 14:08:59.098 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/FoodItem - -
2023-08-01 14:08:59.204 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.GetAllFoodItems (PetFood)'
2023-08-01 14:08:59.224 +03:00 [INF] Route matched with {action = "GetAllFoodItems", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.FoodItemDto]]] GetAllFoodItems() on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 14:08:59.294 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 14:08:59.381 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Description], [f].[FoodTypeId], [f].[Name], [f].[PetId], [f].[Price]
FROM [FoodItems] AS [f]
2023-08-01 14:08:59.422 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PetFood.BusinessLogic.Dto.FoodItemDto, PetFood.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-01 14:08:59.442 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.GetAllFoodItems (PetFood) in 208.523ms
2023-08-01 14:08:59.445 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.GetAllFoodItems (PetFood)'
2023-08-01 14:08:59.459 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/FoodItem - - - 200 - application/json;+charset=utf-8 361.8596ms
2023-08-01 14:09:05.637 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/FoodItem application/json 107
2023-08-01 14:09:05.640 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood)'
2023-08-01 14:09:05.657 +03:00 [INF] Route matched with {action = "CreateFoodItem", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PetFood.BusinessLogic.Dto.FoodItemDto]] CreateFoodItem(PetFood.BusinessLogic.Dto.FoodItemDto) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 14:09:05.729 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 14:09:06.048 +03:00 [ERR] Failed executing DbCommand (21ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [FoodItems] ([Description], [FoodTypeId], [Name], [PetId], [Price])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [FoodItems]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-08-01 14:09:06.149 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'PetFood.DAL.DatabaseContext.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции INSERT с ограничением FOREIGN KEY "FK_FoodItems_FoodTypes_FoodTypeId". Конфликт произошел в базе данных "PetFood", таблица "dbo.FoodTypes", column 'Id'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5497210e-be81-48da-8c97-d86a6e98d602
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции INSERT с ограничением FOREIGN KEY "FK_FoodItems_FoodTypes_FoodTypeId". Конфликт произошел в базе данных "PetFood", таблица "dbo.FoodTypes", column 'Id'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5497210e-be81-48da-8c97-d86a6e98d602
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-08-01 14:09:06.335 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood) in 675.1762ms
2023-08-01 14:09:06.338 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood)'
2023-08-01 14:09:06.345 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции INSERT с ограничением FOREIGN KEY "FK_FoodItems_FoodTypes_FoodTypeId". Конфликт произошел в базе данных "PetFood", таблица "dbo.FoodTypes", column 'Id'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5497210e-be81-48da-8c97-d86a6e98d602
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PetFood.BusinessLogic.Implementations.FoodItemService.AddFoodItemAsync(FoodItemDto FoodItemDto) in D:\Программы\Visual Studio\VS Projects\PetFood\PetFood.BusinessLogic\Implementations\FoodItemService.cs:line 24
   at PetFood.Controllers.FoodItemController.CreateFoodItem(FoodItemDto foodItemDto) in D:\Программы\Visual Studio\VS Projects\PetFood\PetFood\Controllers\FoodItemController.cs:line 31
   at lambda_method62(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-01 14:09:06.401 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7256/api/FoodItem application/json 107 - 500 - text/plain;+charset=utf-8 764.1432ms
2023-08-01 14:42:18.433 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 14:42:20.114 +03:00 [INF] Executed DbCommand (98ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 14:42:20.251 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 14:42:20.638 +03:00 [INF] User profile is available. Using 'C:\Users\stasi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-01 14:42:20.885 +03:00 [INF] Now listening on: https://localhost:7256
2023-08-01 14:42:20.887 +03:00 [INF] Now listening on: http://localhost:5256
2023-08-01 14:42:20.890 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-01 14:42:20.891 +03:00 [INF] Hosting environment: Development
2023-08-01 14:42:20.892 +03:00 [INF] Content root path: D:\Программы\Visual Studio\VS Projects\PetFood\PetFood\
2023-08-01 14:42:22.209 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/index.html - -
2023-08-01 14:42:22.666 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 466.1114ms
2023-08-01 14:42:22.719 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2023-08-01 14:42:22.729 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 11972 application/javascript;+charset=utf-8 9.2573ms
2023-08-01 14:42:23.093 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - -
2023-08-01 14:42:23.268 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 174.6302ms
2023-08-01 14:42:29.490 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/FoodItem application/json 107
2023-08-01 14:42:30.111 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood)'
2023-08-01 14:42:30.149 +03:00 [INF] Route matched with {action = "CreateFoodItem", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PetFood.BusinessLogic.Dto.FoodItemDto]] CreateFoodItem(PetFood.BusinessLogic.Dto.FoodItemDto) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 14:42:30.258 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 14:42:30.552 +03:00 [ERR] Failed executing DbCommand (21ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [FoodItems] ([Description], [FoodTypeId], [Name], [PetId], [Price])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [FoodItems]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-08-01 14:42:30.667 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'PetFood.DAL.DatabaseContext.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции INSERT с ограничением FOREIGN KEY "FK_FoodItems_FoodTypes_FoodTypeId". Конфликт произошел в базе данных "PetFood", таблица "dbo.FoodTypes", column 'Id'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:92854975-fcd8-4331-a774-b118f03ec3e5
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции INSERT с ограничением FOREIGN KEY "FK_FoodItems_FoodTypes_FoodTypeId". Конфликт произошел в базе данных "PetFood", таблица "dbo.FoodTypes", column 'Id'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:92854975-fcd8-4331-a774-b118f03ec3e5
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-08-01 14:42:30.847 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood) in 684.1686ms
2023-08-01 14:42:30.853 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood)'
2023-08-01 14:42:30.864 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции INSERT с ограничением FOREIGN KEY "FK_FoodItems_FoodTypes_FoodTypeId". Конфликт произошел в базе данных "PetFood", таблица "dbo.FoodTypes", column 'Id'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:92854975-fcd8-4331-a774-b118f03ec3e5
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PetFood.BusinessLogic.Implementations.FoodItemService.AddFoodItemAsync(FoodItemDto FoodItemDto) in D:\Программы\Visual Studio\VS Projects\PetFood\PetFood.BusinessLogic\Implementations\FoodItemService.cs:line 24
   at PetFood.Controllers.FoodItemController.CreateFoodItem(FoodItemDto foodItemDto) in D:\Программы\Visual Studio\VS Projects\PetFood\PetFood\Controllers\FoodItemController.cs:line 32
   at lambda_method51(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-01 14:42:30.944 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7256/api/FoodItem application/json 107 - 500 - text/plain;+charset=utf-8 1453.4669ms
2023-08-01 14:43:03.115 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/FoodItem application/json 107
2023-08-01 14:43:03.126 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood)'
2023-08-01 14:43:03.132 +03:00 [INF] Route matched with {action = "CreateFoodItem", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PetFood.BusinessLogic.Dto.FoodItemDto]] CreateFoodItem(PetFood.BusinessLogic.Dto.FoodItemDto) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 14:43:03.165 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 14:43:38.206 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 14:43:39.276 +03:00 [INF] Executed DbCommand (90ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 14:43:39.397 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 14:43:39.574 +03:00 [INF] User profile is available. Using 'C:\Users\stasi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-01 14:43:39.745 +03:00 [INF] Now listening on: https://localhost:7256
2023-08-01 14:43:39.746 +03:00 [INF] Now listening on: http://localhost:5256
2023-08-01 14:43:39.749 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-01 14:43:39.750 +03:00 [INF] Hosting environment: Development
2023-08-01 14:43:39.751 +03:00 [INF] Content root path: D:\Программы\Visual Studio\VS Projects\PetFood\PetFood\
2023-08-01 14:43:40.665 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/index.html - -
2023-08-01 14:43:41.009 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 352.3408ms
2023-08-01 14:43:41.084 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2023-08-01 14:43:41.091 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 11972 application/javascript;+charset=utf-8 7.0589ms
2023-08-01 14:43:41.186 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - -
2023-08-01 14:43:41.312 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 126.3122ms
2023-08-01 14:43:45.662 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/FoodItem application/json 107
2023-08-01 14:43:45.743 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood)'
2023-08-01 14:43:45.773 +03:00 [INF] Route matched with {action = "CreateFoodItem", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PetFood.BusinessLogic.Dto.FoodItemDto]] CreateFoodItem(PetFood.BusinessLogic.Dto.FoodItemDto) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 14:43:58.732 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 14:44:11.315 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__foodItemDto_PetId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name]
FROM [Pets] AS [p]
WHERE [p].[Id] = @__foodItemDto_PetId_0
2023-08-01 14:44:43.056 +03:00 [ERR] Failed executing DbCommand (17ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [FoodItems] ([Description], [FoodTypeId], [Name], [PetId], [Price])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [FoodItems]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-08-01 14:44:43.124 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'PetFood.DAL.DatabaseContext.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции INSERT с ограничением FOREIGN KEY "FK_FoodItems_FoodTypes_FoodTypeId". Конфликт произошел в базе данных "PetFood", таблица "dbo.FoodTypes", column 'Id'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ac47856b-6a09-45ab-8ea3-ca0d4377af16
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции INSERT с ограничением FOREIGN KEY "FK_FoodItems_FoodTypes_FoodTypeId". Конфликт произошел в базе данных "PetFood", таблица "dbo.FoodTypes", column 'Id'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ac47856b-6a09-45ab-8ea3-ca0d4377af16
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-08-01 14:44:43.283 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood) in 57497.8507ms
2023-08-01 14:44:43.287 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood)'
2023-08-01 14:44:43.296 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции INSERT с ограничением FOREIGN KEY "FK_FoodItems_FoodTypes_FoodTypeId". Конфликт произошел в базе данных "PetFood", таблица "dbo.FoodTypes", column 'Id'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ac47856b-6a09-45ab-8ea3-ca0d4377af16
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PetFood.BusinessLogic.Implementations.FoodItemService.AddFoodItemAsync(FoodItemDto FoodItemDto) in D:\Программы\Visual Studio\VS Projects\PetFood\PetFood.BusinessLogic\Implementations\FoodItemService.cs:line 24
   at PetFood.Controllers.FoodItemController.CreateFoodItem(FoodItemDto foodItemDto) in D:\Программы\Visual Studio\VS Projects\PetFood\PetFood\Controllers\FoodItemController.cs:line 32
   at lambda_method51(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-01 14:44:43.364 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7256/api/FoodItem application/json 107 - 500 - text/plain;+charset=utf-8 57702.5704ms
2023-08-01 14:44:55.785 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/FoodItem application/json 109
2023-08-01 14:44:55.788 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood)'
2023-08-01 14:44:55.801 +03:00 [INF] Route matched with {action = "CreateFoodItem", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PetFood.BusinessLogic.Dto.FoodItemDto]] CreateFoodItem(PetFood.BusinessLogic.Dto.FoodItemDto) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 14:44:57.440 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 14:44:57.450 +03:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [FoodItems] ([Description], [FoodTypeId], [Name], [PetId], [Price])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [FoodItems]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-08-01 14:44:57.456 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'PetFood.DAL.DatabaseContext.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции INSERT с ограничением FOREIGN KEY "FK_FoodItems_FoodTypes_FoodTypeId". Конфликт произошел в базе данных "PetFood", таблица "dbo.FoodTypes", column 'Id'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ac47856b-6a09-45ab-8ea3-ca0d4377af16
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции INSERT с ограничением FOREIGN KEY "FK_FoodItems_FoodTypes_FoodTypeId". Конфликт произошел в базе данных "PetFood", таблица "dbo.FoodTypes", column 'Id'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ac47856b-6a09-45ab-8ea3-ca0d4377af16
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-08-01 14:44:57.560 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood) in 1749.8537ms
2023-08-01 14:44:57.564 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood)'
2023-08-01 14:44:57.566 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции INSERT с ограничением FOREIGN KEY "FK_FoodItems_FoodTypes_FoodTypeId". Конфликт произошел в базе данных "PetFood", таблица "dbo.FoodTypes", column 'Id'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ac47856b-6a09-45ab-8ea3-ca0d4377af16
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PetFood.BusinessLogic.Implementations.FoodItemService.AddFoodItemAsync(FoodItemDto FoodItemDto) in D:\Программы\Visual Studio\VS Projects\PetFood\PetFood.BusinessLogic\Implementations\FoodItemService.cs:line 24
   at PetFood.Controllers.FoodItemController.CreateFoodItem(FoodItemDto foodItemDto) in D:\Программы\Visual Studio\VS Projects\PetFood\PetFood\Controllers\FoodItemController.cs:line 32
   at lambda_method51(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-01 14:44:57.587 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7256/api/FoodItem application/json 109 - 500 - text/plain;+charset=utf-8 1802.4790ms
2023-08-01 14:45:08.005 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/FoodItem application/json 110
2023-08-01 14:45:08.008 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood)'
2023-08-01 14:45:08.026 +03:00 [INF] Route matched with {action = "CreateFoodItem", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PetFood.BusinessLogic.Dto.FoodItemDto]] CreateFoodItem(PetFood.BusinessLogic.Dto.FoodItemDto) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 14:45:09.813 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 14:45:09.827 +03:00 [ERR] Failed executing DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [FoodItems] ([Id], [Description], [FoodTypeId], [Name], [PetId], [Price])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2023-08-01 14:45:09.835 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'PetFood.DAL.DatabaseContext.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Невозможно вставить явное значение для столбца идентификаторов в таблице "FoodItems", когда параметр IDENTITY_INSERT имеет значение OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ac47856b-6a09-45ab-8ea3-ca0d4377af16
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Невозможно вставить явное значение для столбца идентификаторов в таблице "FoodItems", когда параметр IDENTITY_INSERT имеет значение OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ac47856b-6a09-45ab-8ea3-ca0d4377af16
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-08-01 14:45:09.960 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood) in 1931.8423ms
2023-08-01 14:45:09.962 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood)'
2023-08-01 14:45:09.964 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Невозможно вставить явное значение для столбца идентификаторов в таблице "FoodItems", когда параметр IDENTITY_INSERT имеет значение OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ac47856b-6a09-45ab-8ea3-ca0d4377af16
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PetFood.BusinessLogic.Implementations.FoodItemService.AddFoodItemAsync(FoodItemDto FoodItemDto) in D:\Программы\Visual Studio\VS Projects\PetFood\PetFood.BusinessLogic\Implementations\FoodItemService.cs:line 24
   at PetFood.Controllers.FoodItemController.CreateFoodItem(FoodItemDto foodItemDto) in D:\Программы\Visual Studio\VS Projects\PetFood\PetFood\Controllers\FoodItemController.cs:line 32
   at lambda_method51(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-01 14:45:09.988 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7256/api/FoodItem application/json 110 - 500 - text/plain;+charset=utf-8 1982.7995ms
2023-08-01 14:45:26.952 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/FoodItem application/json 109
2023-08-01 14:45:26.957 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood)'
2023-08-01 14:45:26.958 +03:00 [INF] Route matched with {action = "CreateFoodItem", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PetFood.BusinessLogic.Dto.FoodItemDto]] CreateFoodItem(PetFood.BusinessLogic.Dto.FoodItemDto) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 14:45:29.023 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 14:45:29.031 +03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [FoodItems] ([Description], [FoodTypeId], [Name], [PetId], [Price])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [FoodItems]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-08-01 14:45:29.036 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'PetFood.DAL.DatabaseContext.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции INSERT с ограничением FOREIGN KEY "FK_FoodItems_FoodTypes_FoodTypeId". Конфликт произошел в базе данных "PetFood", таблица "dbo.FoodTypes", column 'Id'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ac47856b-6a09-45ab-8ea3-ca0d4377af16
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции INSERT с ограничением FOREIGN KEY "FK_FoodItems_FoodTypes_FoodTypeId". Конфликт произошел в базе данных "PetFood", таблица "dbo.FoodTypes", column 'Id'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ac47856b-6a09-45ab-8ea3-ca0d4377af16
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-08-01 14:45:29.140 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood) in 2179.5387ms
2023-08-01 14:45:29.142 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood)'
2023-08-01 14:45:29.145 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции INSERT с ограничением FOREIGN KEY "FK_FoodItems_FoodTypes_FoodTypeId". Конфликт произошел в базе данных "PetFood", таблица "dbo.FoodTypes", column 'Id'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ac47856b-6a09-45ab-8ea3-ca0d4377af16
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PetFood.BusinessLogic.Implementations.FoodItemService.AddFoodItemAsync(FoodItemDto FoodItemDto) in D:\Программы\Visual Studio\VS Projects\PetFood\PetFood.BusinessLogic\Implementations\FoodItemService.cs:line 24
   at PetFood.Controllers.FoodItemController.CreateFoodItem(FoodItemDto foodItemDto) in D:\Программы\Visual Studio\VS Projects\PetFood\PetFood\Controllers\FoodItemController.cs:line 32
   at lambda_method51(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-01 14:45:29.166 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7256/api/FoodItem application/json 109 - 500 - text/plain;+charset=utf-8 2215.2070ms
2023-08-01 14:46:10.953 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 14:46:12.040 +03:00 [INF] Executed DbCommand (86ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 14:46:12.154 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 14:46:12.312 +03:00 [INF] User profile is available. Using 'C:\Users\stasi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-01 14:46:12.485 +03:00 [INF] Now listening on: https://localhost:7256
2023-08-01 14:46:12.486 +03:00 [INF] Now listening on: http://localhost:5256
2023-08-01 14:46:12.489 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-01 14:46:12.491 +03:00 [INF] Hosting environment: Development
2023-08-01 14:46:12.493 +03:00 [INF] Content root path: D:\Программы\Visual Studio\VS Projects\PetFood\PetFood\
2023-08-01 14:46:13.337 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/index.html - -
2023-08-01 14:46:13.698 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 370.8984ms
2023-08-01 14:46:13.746 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2023-08-01 14:46:13.752 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 11972 application/javascript;+charset=utf-8 6.6869ms
2023-08-01 14:46:13.840 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - -
2023-08-01 14:46:13.990 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 149.8588ms
2023-08-01 14:46:20.215 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/FoodItem application/json 107
2023-08-01 14:46:20.342 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood)'
2023-08-01 14:46:20.373 +03:00 [INF] Route matched with {action = "CreateFoodItem", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PetFood.BusinessLogic.Dto.FoodItemDto]] CreateFoodItem(PetFood.BusinessLogic.Dto.FoodItemDto) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 14:46:52.186 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 14:47:44.170 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 14:47:45.251 +03:00 [INF] Executed DbCommand (88ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 14:47:45.382 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 14:47:45.557 +03:00 [INF] User profile is available. Using 'C:\Users\stasi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-01 14:47:45.764 +03:00 [INF] Now listening on: https://localhost:7256
2023-08-01 14:47:45.774 +03:00 [INF] Now listening on: http://localhost:5256
2023-08-01 14:47:45.778 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-01 14:47:45.780 +03:00 [INF] Hosting environment: Development
2023-08-01 14:47:45.781 +03:00 [INF] Content root path: D:\Программы\Visual Studio\VS Projects\PetFood\PetFood\
2023-08-01 14:47:46.807 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/index.html - -
2023-08-01 14:47:47.145 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 346.3948ms
2023-08-01 14:47:47.194 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2023-08-01 14:47:47.203 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 11972 application/javascript;+charset=utf-8 8.8707ms
2023-08-01 14:47:47.310 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - -
2023-08-01 14:47:47.428 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 118.5567ms
2023-08-01 14:47:51.720 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/FoodItem application/json 107
2023-08-01 14:47:51.807 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood)'
2023-08-01 14:47:51.837 +03:00 [INF] Route matched with {action = "CreateFoodItem", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PetFood.BusinessLogic.Dto.FoodItemDto]] CreateFoodItem(PetFood.BusinessLogic.Dto.FoodItemDto) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 14:47:51.945 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 14:47:52.254 +03:00 [ERR] Failed executing DbCommand (23ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Int32), @p4='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [FoodItems] ([Description], [FoodTypeId], [Name], [PetId], [Price])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [FoodItems]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-08-01 14:47:52.323 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'PetFood.DAL.DatabaseContext.DatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции INSERT с ограничением FOREIGN KEY "FK_FoodItems_FoodTypes_FoodTypeId". Конфликт произошел в базе данных "PetFood", таблица "dbo.FoodTypes", column 'Id'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:96b6410d-0b87-4b43-9bef-dd179658d891
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции INSERT с ограничением FOREIGN KEY "FK_FoodItems_FoodTypes_FoodTypeId". Конфликт произошел в базе данных "PetFood", таблица "dbo.FoodTypes", column 'Id'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:96b6410d-0b87-4b43-9bef-dd179658d891
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-08-01 14:47:52.485 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood) in 635.2244ms
2023-08-01 14:47:52.489 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood)'
2023-08-01 14:47:52.498 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Конфликт инструкции INSERT с ограничением FOREIGN KEY "FK_FoodItems_FoodTypes_FoodTypeId". Конфликт произошел в базе данных "PetFood", таблица "dbo.FoodTypes", column 'Id'.
Выполнение данной инструкции было прервано.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:96b6410d-0b87-4b43-9bef-dd179658d891
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PetFood.BusinessLogic.Implementations.FoodItemService.AddFoodItemAsync(FoodItemDto FoodItemDto) in D:\Программы\Visual Studio\VS Projects\PetFood\PetFood.BusinessLogic\Implementations\FoodItemService.cs:line 24
   at PetFood.Controllers.FoodItemController.CreateFoodItem(FoodItemDto foodItemDto) in D:\Программы\Visual Studio\VS Projects\PetFood\PetFood\Controllers\FoodItemController.cs:line 32
   at lambda_method51(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-01 14:47:52.557 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7256/api/FoodItem application/json 107 - 500 - text/plain;+charset=utf-8 837.2917ms
2023-08-01 14:54:12.466 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 14:54:13.508 +03:00 [INF] Executed DbCommand (95ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 14:54:13.620 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 14:54:13.797 +03:00 [INF] User profile is available. Using 'C:\Users\stasi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-01 14:54:13.952 +03:00 [INF] Now listening on: https://localhost:7256
2023-08-01 14:54:13.953 +03:00 [INF] Now listening on: http://localhost:5256
2023-08-01 14:54:13.956 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-01 14:54:13.957 +03:00 [INF] Hosting environment: Development
2023-08-01 14:54:13.958 +03:00 [INF] Content root path: D:\Программы\Visual Studio\VS Projects\PetFood\PetFood\
2023-08-01 14:54:15.019 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/index.html - -
2023-08-01 14:54:15.403 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 391.0297ms
2023-08-01 14:54:15.459 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2023-08-01 14:54:15.468 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 11972 application/javascript;+charset=utf-8 8.5106ms
2023-08-01 14:54:15.574 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - -
2023-08-01 14:54:15.726 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 152.1498ms
2023-08-01 14:54:19.474 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/FoodItem application/json 107
2023-08-01 14:54:19.557 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood)'
2023-08-01 14:54:19.586 +03:00 [INF] Route matched with {action = "CreateFoodItem", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PetFood.BusinessLogic.Dto.FoodItemDto]] CreateFoodItem(PetFood.BusinessLogic.Dto.FoodItemDto) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 14:54:19.684 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 15:00:58.261 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 15:00:59.404 +03:00 [INF] Executed DbCommand (152ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 15:00:59.628 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 15:00:59.838 +03:00 [INF] User profile is available. Using 'C:\Users\stasi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-01 15:01:00.065 +03:00 [INF] Now listening on: https://localhost:7256
2023-08-01 15:01:00.066 +03:00 [INF] Now listening on: http://localhost:5256
2023-08-01 15:01:00.072 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-01 15:01:00.073 +03:00 [INF] Hosting environment: Development
2023-08-01 15:01:00.075 +03:00 [INF] Content root path: D:\Программы\Visual Studio\VS Projects\PetFood\PetFood\
2023-08-01 15:01:01.168 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/index.html - -
2023-08-01 15:01:01.577 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 417.8811ms
2023-08-01 15:01:01.627 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2023-08-01 15:01:01.632 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 11972 application/javascript;+charset=utf-8 5.7084ms
2023-08-01 15:01:01.727 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - -
2023-08-01 15:01:01.854 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 126.9967ms
2023-08-01 15:01:06.981 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/FoodItem application/json 107
2023-08-01 15:01:07.073 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood)'
2023-08-01 15:01:07.108 +03:00 [INF] Route matched with {action = "CreateFoodItem", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PetFood.BusinessLogic.Dto.FoodItemDto]] CreateFoodItem(PetFood.BusinessLogic.Dto.FoodItemDto) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 15:01:07.219 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 15:01:07.269 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__foodItemDto_PetId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name]
FROM [Pets] AS [p]
WHERE [p].[Id] = @__foodItemDto_PetId_0
2023-08-01 15:01:07.285 +03:00 [ERR] PetId sent from client is invalid: 0. Pet with this Id does not exist.
2023-08-01 15:01:07.297 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-08-01 15:01:07.308 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood) in 188.1363ms
2023-08-01 15:01:07.312 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood)'
2023-08-01 15:01:07.325 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7256/api/FoodItem application/json 107 - 400 - text/plain;+charset=utf-8 343.6348ms
2023-08-01 15:08:51.305 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 15:08:52.418 +03:00 [INF] Executed DbCommand (121ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 15:08:52.542 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 15:08:52.724 +03:00 [INF] User profile is available. Using 'C:\Users\stasi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-01 15:08:52.884 +03:00 [INF] Now listening on: https://localhost:7256
2023-08-01 15:08:52.886 +03:00 [INF] Now listening on: http://localhost:5256
2023-08-01 15:08:52.889 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-01 15:08:52.890 +03:00 [INF] Hosting environment: Development
2023-08-01 15:08:52.891 +03:00 [INF] Content root path: D:\Программы\Visual Studio\VS Projects\PetFood\PetFood\
2023-08-01 15:08:53.746 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/index.html - -
2023-08-01 15:08:54.055 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 317.7186ms
2023-08-01 15:08:54.104 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2023-08-01 15:08:54.111 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 11972 application/javascript;+charset=utf-8 7.0005ms
2023-08-01 15:08:54.223 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - -
2023-08-01 15:08:54.382 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 158.7580ms
2023-08-01 15:08:57.798 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/FoodItem application/json 107
2023-08-01 15:08:57.878 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood)'
2023-08-01 15:08:57.907 +03:00 [INF] Route matched with {action = "CreateFoodItem", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PetFood.BusinessLogic.Dto.FoodItemDto]] CreateFoodItem(PetFood.BusinessLogic.Dto.FoodItemDto) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 15:08:58.002 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 15:08:58.043 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Name]
FROM [Pets] AS [p]
WHERE [p].[Id] = @__p_0
2023-08-01 15:08:58.059 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[Description], [f].[Name], [f].[PetId]
FROM [FoodTypes] AS [f]
WHERE [f].[Id] = @__p_0
2023-08-01 15:08:58.062 +03:00 [ERR] PetId sent from client is invalid: 0. Pet with this Id does not exist.
2023-08-01 15:08:58.074 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-08-01 15:08:58.085 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood) in 166.4788ms
2023-08-01 15:08:58.088 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood)'
2023-08-01 15:08:58.104 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7256/api/FoodItem application/json 107 - 400 - text/plain;+charset=utf-8 305.9173ms
2023-08-01 15:09:04.749 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/FoodItem application/json 107
2023-08-01 15:09:04.752 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood)'
2023-08-01 15:09:04.756 +03:00 [INF] Route matched with {action = "CreateFoodItem", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PetFood.BusinessLogic.Dto.FoodItemDto]] CreateFoodItem(PetFood.BusinessLogic.Dto.FoodItemDto) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 15:09:04.789 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 15:09:04.796 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Name]
FROM [Pets] AS [p]
WHERE [p].[Id] = @__p_0
2023-08-01 15:09:04.831 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[Description], [f].[Name], [f].[PetId]
FROM [FoodTypes] AS [f]
WHERE [f].[Id] = @__p_0
2023-08-01 15:09:04.835 +03:00 [ERR] FoodTypeId sent from client is invalid: 0. Food type with this Id does not exist.
2023-08-01 15:09:04.836 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-08-01 15:09:04.838 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood) in 61.7177ms
2023-08-01 15:09:04.840 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood)'
2023-08-01 15:09:04.841 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7256/api/FoodItem application/json 107 - 400 - text/plain;+charset=utf-8 92.8842ms
2023-08-01 15:09:10.544 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/FoodItem application/json 107
2023-08-01 15:09:10.548 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood)'
2023-08-01 15:09:10.564 +03:00 [INF] Route matched with {action = "CreateFoodItem", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PetFood.BusinessLogic.Dto.FoodItemDto]] CreateFoodItem(PetFood.BusinessLogic.Dto.FoodItemDto) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 15:09:10.569 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 15:09:10.575 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Name]
FROM [Pets] AS [p]
WHERE [p].[Id] = @__p_0
2023-08-01 15:09:10.580 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[Description], [f].[Name], [f].[PetId]
FROM [FoodTypes] AS [f]
WHERE [f].[Id] = @__p_0
2023-08-01 15:09:10.583 +03:00 [ERR] FoodTypeId sent from client is invalid: 9. Food type with this Id does not exist.
2023-08-01 15:09:10.584 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-08-01 15:09:10.585 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood) in 17.8346ms
2023-08-01 15:09:10.587 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood)'
2023-08-01 15:09:10.588 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7256/api/FoodItem application/json 107 - 400 - text/plain;+charset=utf-8 44.9759ms
2023-08-01 15:28:28.397 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 15:28:29.460 +03:00 [INF] Executed DbCommand (88ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 15:28:29.580 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 15:28:29.746 +03:00 [INF] User profile is available. Using 'C:\Users\stasi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-01 15:28:29.924 +03:00 [INF] Now listening on: https://localhost:7256
2023-08-01 15:28:29.925 +03:00 [INF] Now listening on: http://localhost:5256
2023-08-01 15:28:29.928 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-01 15:28:29.929 +03:00 [INF] Hosting environment: Development
2023-08-01 15:28:29.930 +03:00 [INF] Content root path: D:\Программы\Visual Studio\VS Projects\PetFood\PetFood\
2023-08-01 15:28:30.739 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/index.html - -
2023-08-01 15:28:31.387 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 660.2332ms
2023-08-01 15:28:31.430 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2023-08-01 15:28:31.437 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 11972 application/javascript;+charset=utf-8 7.0861ms
2023-08-01 15:28:31.542 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - -
2023-08-01 15:28:31.707 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 166.1260ms
2023-08-01 15:29:01.630 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/FoodItem - -
2023-08-01 15:29:01.641 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.Matching.AmbiguousMatchException: The request matched multiple endpoints. Matches: 

PetFood.Controllers.FoodItemController.GetAllFoodItems (PetFood)
PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ReportAmbiguity(CandidateState[] candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.ProcessFinalCandidates(HttpContext httpContext, CandidateState[] candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DefaultEndpointSelector.Select(HttpContext httpContext, CandidateState[] candidateState)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcher.MatchAsync(HttpContext httpContext)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-01 15:29:01.704 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/FoodItem - - - 500 - text/plain;+charset=utf-8 73.7918ms
2023-08-01 15:29:34.749 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 15:29:35.857 +03:00 [INF] Executed DbCommand (91ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 15:29:35.973 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 15:29:36.151 +03:00 [INF] User profile is available. Using 'C:\Users\stasi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-01 15:29:36.333 +03:00 [INF] Now listening on: https://localhost:7256
2023-08-01 15:29:36.335 +03:00 [INF] Now listening on: http://localhost:5256
2023-08-01 15:29:36.341 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-01 15:29:36.342 +03:00 [INF] Hosting environment: Development
2023-08-01 15:29:36.343 +03:00 [INF] Content root path: D:\Программы\Visual Studio\VS Projects\PetFood\PetFood\
2023-08-01 15:29:37.220 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/index.html - -
2023-08-01 15:29:37.571 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 356.0257ms
2023-08-01 15:29:37.631 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2023-08-01 15:29:37.640 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 11972 application/javascript;+charset=utf-8 8.5320ms
2023-08-01 15:29:37.763 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - -
2023-08-01 15:29:37.912 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 148.3601ms
2023-08-01 15:29:48.286 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/FoodItem?petId=1&foodTypeId=1 - -
2023-08-01 15:29:48.405 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood)'
2023-08-01 15:29:48.455 +03:00 [INF] Route matched with {action = "GetFoodItemsByPetAndFoodType", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.FoodItemDto]]] GetFoodItemsByPetAndFoodType(Int32, Int32) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 15:29:48.563 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood) in 99.0523ms
2023-08-01 15:29:48.568 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood)'
2023-08-01 15:29:48.574 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Collections.Generic.KeyNotFoundException: The given key 'foodItemDto' was not present in the dictionary.
   at System.Collections.Generic.Dictionary`2.get_Item(TKey key)
   at PetFood.BusinessLogic.Filters.ValidateFoodItemAttribute.OnActionExecutionAsync(ActionExecutingContext context, ActionExecutionDelegate next) in D:\Программы\Visual Studio\VS Projects\PetFood\PetFood.BusinessLogic\Filters\ValidateFoodItemAttribute.cs:line 22
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-01 15:29:48.646 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/FoodItem?petId=1&foodTypeId=1 - - - 500 - text/plain;+charset=utf-8 359.5688ms
2023-08-01 15:30:02.081 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/FoodItem?petId=1&foodTypeId=10 - -
2023-08-01 15:30:02.084 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood)'
2023-08-01 15:30:02.086 +03:00 [INF] Route matched with {action = "GetFoodItemsByPetAndFoodType", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.FoodItemDto]]] GetFoodItemsByPetAndFoodType(Int32, Int32) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 15:30:02.123 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood) in 23.0936ms
2023-08-01 15:30:02.125 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood)'
2023-08-01 15:30:02.128 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Collections.Generic.KeyNotFoundException: The given key 'foodItemDto' was not present in the dictionary.
   at System.Collections.Generic.Dictionary`2.get_Item(TKey key)
   at PetFood.BusinessLogic.Filters.ValidateFoodItemAttribute.OnActionExecutionAsync(ActionExecutingContext context, ActionExecutionDelegate next) in D:\Программы\Visual Studio\VS Projects\PetFood\PetFood.BusinessLogic\Filters\ValidateFoodItemAttribute.cs:line 22
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-01 15:30:02.136 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/FoodItem?petId=1&foodTypeId=10 - - - 500 - text/plain;+charset=utf-8 54.4767ms
2023-08-01 15:30:53.243 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/FoodItem?petId=1&foodTypeId=10 - -
2023-08-01 15:30:53.251 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood)'
2023-08-01 15:30:53.263 +03:00 [INF] Route matched with {action = "GetFoodItemsByPetAndFoodType", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.FoodItemDto]]] GetFoodItemsByPetAndFoodType(Int32, Int32) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 15:30:53.295 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood) in 28.5003ms
2023-08-01 15:30:53.297 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood)'
2023-08-01 15:30:53.299 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Collections.Generic.KeyNotFoundException: The given key 'foodItemDto' was not present in the dictionary.
   at System.Collections.Generic.Dictionary`2.get_Item(TKey key)
   at PetFood.BusinessLogic.Filters.ValidateFoodItemAttribute.OnActionExecutionAsync(ActionExecutingContext context, ActionExecutionDelegate next) in D:\Программы\Visual Studio\VS Projects\PetFood\PetFood.BusinessLogic\Filters\ValidateFoodItemAttribute.cs:line 22
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-08-01 15:30:53.310 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/FoodItem?petId=1&foodTypeId=10 - - - 500 - text/plain;+charset=utf-8 66.9499ms
2023-08-01 15:31:56.253 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 15:31:57.358 +03:00 [INF] Executed DbCommand (93ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 15:31:57.471 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 15:31:57.639 +03:00 [INF] User profile is available. Using 'C:\Users\stasi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-01 15:31:57.811 +03:00 [INF] Now listening on: https://localhost:7256
2023-08-01 15:31:57.812 +03:00 [INF] Now listening on: http://localhost:5256
2023-08-01 15:31:57.815 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-01 15:31:57.816 +03:00 [INF] Hosting environment: Development
2023-08-01 15:31:57.817 +03:00 [INF] Content root path: D:\Программы\Visual Studio\VS Projects\PetFood\PetFood\
2023-08-01 15:31:58.938 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/index.html - -
2023-08-01 15:31:59.312 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 382.4313ms
2023-08-01 15:31:59.359 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2023-08-01 15:31:59.365 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 11972 application/javascript;+charset=utf-8 6.6741ms
2023-08-01 15:31:59.459 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - -
2023-08-01 15:31:59.606 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 146.9860ms
2023-08-01 15:32:06.127 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/FoodItem?petId=1&foodTypeId=1 - -
2023-08-01 15:32:06.216 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood)'
2023-08-01 15:32:06.247 +03:00 [INF] Route matched with {action = "GetFoodItemsByPetAndFoodType", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.FoodItemDto]]] GetFoodItemsByPetAndFoodType(Int32, Int32) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 15:32:06.344 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 15:32:06.420 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__foodTypeId_0='?' (DbType = Int32), @__petId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Description], [f].[FoodTypeId], [f].[Name], [f].[PetId], [f].[Price]
FROM [FoodItems] AS [f]
WHERE ([f].[FoodTypeId] = @__foodTypeId_0) AND ([f].[PetId] = @__petId_1)
2023-08-01 15:32:06.445 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PetFood.BusinessLogic.Dto.FoodItemDto, PetFood.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-01 15:32:06.465 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood) in 207.7825ms
2023-08-01 15:32:06.469 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood)'
2023-08-01 15:32:06.483 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/FoodItem?petId=1&foodTypeId=1 - - - 200 - application/json;+charset=utf-8 355.7748ms
2023-08-01 15:32:11.511 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/FoodItem?petId=1&foodTypeId=2 - -
2023-08-01 15:32:11.513 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood)'
2023-08-01 15:32:11.515 +03:00 [INF] Route matched with {action = "GetFoodItemsByPetAndFoodType", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.FoodItemDto]]] GetFoodItemsByPetAndFoodType(Int32, Int32) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 15:32:11.532 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 15:32:11.538 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__foodTypeId_0='?' (DbType = Int32), @__petId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Description], [f].[FoodTypeId], [f].[Name], [f].[PetId], [f].[Price]
FROM [FoodItems] AS [f]
WHERE ([f].[FoodTypeId] = @__foodTypeId_0) AND ([f].[PetId] = @__petId_1)
2023-08-01 15:32:11.541 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PetFood.BusinessLogic.Dto.FoodItemDto, PetFood.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-01 15:32:11.542 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood) in 24.1685ms
2023-08-01 15:32:11.544 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood)'
2023-08-01 15:32:11.545 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/FoodItem?petId=1&foodTypeId=2 - - - 200 - application/json;+charset=utf-8 34.6459ms
2023-08-01 15:32:14.859 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/FoodItem?petId=2&foodTypeId=1 - -
2023-08-01 15:32:14.862 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood)'
2023-08-01 15:32:14.864 +03:00 [INF] Route matched with {action = "GetFoodItemsByPetAndFoodType", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.FoodItemDto]]] GetFoodItemsByPetAndFoodType(Int32, Int32) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 15:32:14.879 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 15:32:14.884 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__foodTypeId_0='?' (DbType = Int32), @__petId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Description], [f].[FoodTypeId], [f].[Name], [f].[PetId], [f].[Price]
FROM [FoodItems] AS [f]
WHERE ([f].[FoodTypeId] = @__foodTypeId_0) AND ([f].[PetId] = @__petId_1)
2023-08-01 15:32:14.886 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PetFood.BusinessLogic.Dto.FoodItemDto, PetFood.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-01 15:32:14.888 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood) in 21.8119ms
2023-08-01 15:32:14.890 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood)'
2023-08-01 15:32:14.891 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/FoodItem?petId=2&foodTypeId=1 - - - 200 - application/json;+charset=utf-8 31.9565ms
2023-08-01 15:32:16.313 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/FoodItem?petId=2&foodTypeId=2 - -
2023-08-01 15:32:16.315 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood)'
2023-08-01 15:32:16.316 +03:00 [INF] Route matched with {action = "GetFoodItemsByPetAndFoodType", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.FoodItemDto]]] GetFoodItemsByPetAndFoodType(Int32, Int32) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 15:32:16.321 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 15:32:16.328 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__foodTypeId_0='?' (DbType = Int32), @__petId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Description], [f].[FoodTypeId], [f].[Name], [f].[PetId], [f].[Price]
FROM [FoodItems] AS [f]
WHERE ([f].[FoodTypeId] = @__foodTypeId_0) AND ([f].[PetId] = @__petId_1)
2023-08-01 15:32:16.332 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PetFood.BusinessLogic.Dto.FoodItemDto, PetFood.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-01 15:32:16.334 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood) in 14.49ms
2023-08-01 15:32:16.336 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood)'
2023-08-01 15:32:16.337 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/FoodItem?petId=2&foodTypeId=2 - - - 200 - application/json;+charset=utf-8 23.5080ms
2023-08-01 15:32:18.746 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/FoodItem?petId=1&foodTypeId=1 - -
2023-08-01 15:32:18.748 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood)'
2023-08-01 15:32:18.751 +03:00 [INF] Route matched with {action = "GetFoodItemsByPetAndFoodType", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.FoodItemDto]]] GetFoodItemsByPetAndFoodType(Int32, Int32) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 15:32:18.756 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 15:32:18.760 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__foodTypeId_0='?' (DbType = Int32), @__petId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Description], [f].[FoodTypeId], [f].[Name], [f].[PetId], [f].[Price]
FROM [FoodItems] AS [f]
WHERE ([f].[FoodTypeId] = @__foodTypeId_0) AND ([f].[PetId] = @__petId_1)
2023-08-01 15:32:18.763 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PetFood.BusinessLogic.Dto.FoodItemDto, PetFood.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-01 15:32:18.764 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood) in 11.5926ms
2023-08-01 15:32:18.766 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood)'
2023-08-01 15:32:18.767 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/FoodItem?petId=1&foodTypeId=1 - - - 200 - application/json;+charset=utf-8 21.1582ms
2023-08-01 15:58:57.040 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 15:58:58.148 +03:00 [INF] Executed DbCommand (117ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 15:58:58.267 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 15:58:58.447 +03:00 [INF] User profile is available. Using 'C:\Users\stasi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-01 15:58:58.622 +03:00 [INF] Now listening on: https://localhost:7256
2023-08-01 15:58:58.623 +03:00 [INF] Now listening on: http://localhost:5256
2023-08-01 15:58:58.627 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-01 15:58:58.628 +03:00 [INF] Hosting environment: Development
2023-08-01 15:58:58.629 +03:00 [INF] Content root path: D:\Программы\Visual Studio\VS Projects\PetFood\PetFood\
2023-08-01 15:58:59.393 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/index.html - -
2023-08-01 15:58:59.777 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 393.2538ms
2023-08-01 15:58:59.824 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2023-08-01 15:58:59.833 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 11972 application/javascript;+charset=utf-8 8.3430ms
2023-08-01 15:58:59.933 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - -
2023-08-01 15:59:00.099 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 166.0446ms
2023-08-01 15:59:06.497 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/FoodItem application/json 107
2023-08-01 15:59:06.582 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood)'
2023-08-01 15:59:06.613 +03:00 [INF] Route matched with {action = "CreateFoodItem", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PetFood.BusinessLogic.Dto.FoodItemDto]] CreateFoodItem(PetFood.BusinessLogic.Dto.FoodItemDto) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 15:59:06.711 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 15:59:06.751 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Name]
FROM [Pets] AS [p]
WHERE [p].[Id] = @__p_0
2023-08-01 15:59:06.755 +03:00 [ERR] PetId sent from client is invalid: 0. Pet with this Id does not exist.
2023-08-01 15:59:06.766 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[Description], [f].[Name], [f].[PetId]
FROM [FoodTypes] AS [f]
WHERE [f].[Id] = @__p_0
2023-08-01 15:59:06.782 +03:00 [ERR] FoodTypeId sent from client is invalid: 0. Food type with this Id does not exist.
2023-08-01 15:59:06.793 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-08-01 15:59:06.807 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood) in 178.4165ms
2023-08-01 15:59:06.813 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood)'
2023-08-01 15:59:06.828 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7256/api/FoodItem application/json 107 - 400 - text/plain;+charset=utf-8 330.6157ms
2023-08-01 15:59:12.711 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/FoodItem application/json 108
2023-08-01 15:59:12.713 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood)'
2023-08-01 15:59:12.716 +03:00 [INF] Route matched with {action = "CreateFoodItem", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PetFood.BusinessLogic.Dto.FoodItemDto]] CreateFoodItem(PetFood.BusinessLogic.Dto.FoodItemDto) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 15:59:12.736 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 15:59:12.743 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Name]
FROM [Pets] AS [p]
WHERE [p].[Id] = @__p_0
2023-08-01 15:59:12.745 +03:00 [ERR] PetId sent from client is invalid: 10. Pet with this Id does not exist.
2023-08-01 15:59:12.749 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[Description], [f].[Name], [f].[PetId]
FROM [FoodTypes] AS [f]
WHERE [f].[Id] = @__p_0
2023-08-01 15:59:12.752 +03:00 [ERR] FoodTypeId sent from client is invalid: 0. Food type with this Id does not exist.
2023-08-01 15:59:12.753 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-08-01 15:59:12.755 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood) in 30.6819ms
2023-08-01 15:59:12.756 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood)'
2023-08-01 15:59:12.757 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7256/api/FoodItem application/json 108 - 400 - text/plain;+charset=utf-8 46.3759ms
2023-08-01 15:59:17.396 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7256/api/FoodItem application/json 109
2023-08-01 15:59:17.402 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood)'
2023-08-01 15:59:17.414 +03:00 [INF] Route matched with {action = "CreateFoodItem", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PetFood.BusinessLogic.Dto.FoodItemDto]] CreateFoodItem(PetFood.BusinessLogic.Dto.FoodItemDto) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 15:59:17.419 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 15:59:17.424 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Name]
FROM [Pets] AS [p]
WHERE [p].[Id] = @__p_0
2023-08-01 15:59:17.426 +03:00 [ERR] PetId sent from client is invalid: 10. Pet with this Id does not exist.
2023-08-01 15:59:17.429 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[Description], [f].[Name], [f].[PetId]
FROM [FoodTypes] AS [f]
WHERE [f].[Id] = @__p_0
2023-08-01 15:59:17.432 +03:00 [ERR] FoodTypeId sent from client is invalid: 10. Food type with this Id does not exist.
2023-08-01 15:59:17.433 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-08-01 15:59:17.434 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood) in 17.0137ms
2023-08-01 15:59:17.435 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.CreateFoodItem (PetFood)'
2023-08-01 15:59:17.436 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7256/api/FoodItem application/json 109 - 400 - text/plain;+charset=utf-8 40.9155ms
2023-08-01 15:59:30.632 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/FoodItem?petId=10&foodTypeId=10 - -
2023-08-01 15:59:30.634 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood)'
2023-08-01 15:59:30.640 +03:00 [INF] Route matched with {action = "GetFoodItemsByPetAndFoodType", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.FoodItemDto]]] GetFoodItemsByPetAndFoodType(Int32, Int32) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 15:59:30.649 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 15:59:30.654 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Name]
FROM [Pets] AS [p]
WHERE [p].[Id] = @__p_0
2023-08-01 15:59:30.656 +03:00 [ERR] PetId sent from client is invalid: 10. Pet with this Id does not exist.
2023-08-01 15:59:30.658 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-08-01 15:59:30.659 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood) in 15.6201ms
2023-08-01 15:59:30.660 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood)'
2023-08-01 15:59:30.661 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/FoodItem?petId=10&foodTypeId=10 - - - 400 - text/plain;+charset=utf-8 28.8539ms
2023-08-01 15:59:36.127 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/FoodItem?petId=1&foodTypeId=10 - -
2023-08-01 15:59:36.131 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood)'
2023-08-01 15:59:36.132 +03:00 [INF] Route matched with {action = "GetFoodItemsByPetAndFoodType", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.FoodItemDto]]] GetFoodItemsByPetAndFoodType(Int32, Int32) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 15:59:36.135 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 15:59:36.141 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Name]
FROM [Pets] AS [p]
WHERE [p].[Id] = @__p_0
2023-08-01 15:59:36.173 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[Description], [f].[Name], [f].[PetId]
FROM [FoodTypes] AS [f]
WHERE [f].[Id] = @__p_0
2023-08-01 15:59:36.177 +03:00 [ERR] FoodTypeId sent from client is invalid: 10. Food type with this Id does not exist.
2023-08-01 15:59:36.178 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-08-01 15:59:36.179 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood) in 44.1778ms
2023-08-01 15:59:36.180 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood)'
2023-08-01 15:59:36.181 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/FoodItem?petId=1&foodTypeId=10 - - - 400 - text/plain;+charset=utf-8 55.0132ms
2023-08-01 15:59:39.051 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/FoodItem?petId=1&foodTypeId=1 - -
2023-08-01 15:59:39.054 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood)'
2023-08-01 15:59:39.056 +03:00 [INF] Route matched with {action = "GetFoodItemsByPetAndFoodType", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.FoodItemDto]]] GetFoodItemsByPetAndFoodType(Int32, Int32) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 15:59:39.059 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 15:59:39.064 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Name]
FROM [Pets] AS [p]
WHERE [p].[Id] = @__p_0
2023-08-01 15:59:39.068 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[Description], [f].[Name], [f].[PetId]
FROM [FoodTypes] AS [f]
WHERE [f].[Id] = @__p_0
2023-08-01 15:59:39.157 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__foodTypeId_0='?' (DbType = Int32), @__petId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Description], [f].[FoodTypeId], [f].[Name], [f].[PetId], [f].[Price]
FROM [FoodItems] AS [f]
WHERE ([f].[FoodTypeId] = @__foodTypeId_0) AND ([f].[PetId] = @__petId_1)
2023-08-01 15:59:39.169 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PetFood.BusinessLogic.Dto.FoodItemDto, PetFood.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-01 15:59:39.175 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood) in 116.6162ms
2023-08-01 15:59:39.177 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood)'
2023-08-01 15:59:39.178 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/FoodItem?petId=1&foodTypeId=1 - - - 200 - application/json;+charset=utf-8 126.9066ms
2023-08-01 16:06:01.010 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 16:06:02.105 +03:00 [INF] Executed DbCommand (90ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 16:06:02.216 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 16:06:02.393 +03:00 [INF] User profile is available. Using 'C:\Users\stasi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-01 16:06:02.562 +03:00 [INF] Now listening on: https://localhost:7256
2023-08-01 16:06:02.564 +03:00 [INF] Now listening on: http://localhost:5256
2023-08-01 16:06:02.567 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-01 16:06:02.568 +03:00 [INF] Hosting environment: Development
2023-08-01 16:06:02.569 +03:00 [INF] Content root path: D:\Программы\Visual Studio\VS Projects\PetFood\PetFood\
2023-08-01 16:06:03.424 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/index.html - -
2023-08-01 16:06:04.228 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 815.3268ms
2023-08-01 16:06:04.275 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2023-08-01 16:06:04.282 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 11972 application/javascript;+charset=utf-8 5.9817ms
2023-08-01 16:06:04.383 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - -
2023-08-01 16:06:04.507 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 124.4112ms
2023-08-01 16:06:37.237 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 16:06:38.405 +03:00 [INF] Executed DbCommand (114ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 16:06:38.522 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2023-08-01 16:06:38.683 +03:00 [INF] User profile is available. Using 'C:\Users\stasi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-08-01 16:06:38.846 +03:00 [INF] Now listening on: https://localhost:7256
2023-08-01 16:06:38.847 +03:00 [INF] Now listening on: http://localhost:5256
2023-08-01 16:06:38.851 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-08-01 16:06:38.852 +03:00 [INF] Hosting environment: Development
2023-08-01 16:06:38.853 +03:00 [INF] Content root path: D:\Программы\Visual Studio\VS Projects\PetFood\PetFood\
2023-08-01 16:06:39.517 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/index.html - -
2023-08-01 16:06:39.898 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/index.html - - - 200 - text/html;charset=utf-8 388.9833ms
2023-08-01 16:06:39.949 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - -
2023-08-01 16:06:39.956 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/_framework/aspnetcore-browser-refresh.js - - - 200 11972 application/javascript;+charset=utf-8 7.0804ms
2023-08-01 16:06:40.045 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - -
2023-08-01 16:06:40.215 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 169.5819ms
2023-08-01 16:06:55.081 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/FoodItem/AllFoodItems - -
2023-08-01 16:06:55.181 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.GetAllFoodItems (PetFood)'
2023-08-01 16:06:55.196 +03:00 [INF] Route matched with {action = "GetAllFoodItems", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.FoodItemDto]]] GetAllFoodItems() on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 16:06:55.257 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 16:06:55.325 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Description], [f].[FoodTypeId], [f].[Name], [f].[PetId], [f].[Price]
FROM [FoodItems] AS [f]
2023-08-01 16:06:55.349 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PetFood.BusinessLogic.Dto.FoodItemDto, PetFood.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-01 16:06:55.364 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.GetAllFoodItems (PetFood) in 156.9472ms
2023-08-01 16:06:55.367 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.GetAllFoodItems (PetFood)'
2023-08-01 16:06:55.379 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/FoodItem/AllFoodItems - - - 200 - application/json;+charset=utf-8 298.5185ms
2023-08-01 16:07:03.421 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/FoodItem/GetByPetAndFoodType?petId=14&foodTypeId=14 - -
2023-08-01 16:07:03.428 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood)'
2023-08-01 16:07:03.470 +03:00 [INF] Route matched with {action = "GetFoodItemsByPetAndFoodType", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.FoodItemDto]]] GetFoodItemsByPetAndFoodType(Int32, Int32) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 16:07:03.516 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 16:07:03.555 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Name]
FROM [Pets] AS [p]
WHERE [p].[Id] = @__p_0
2023-08-01 16:07:03.558 +03:00 [ERR] PetId sent from client is invalid: 14. Pet with this Id does not exist.
2023-08-01 16:07:03.560 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-08-01 16:07:03.562 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood) in 88.4905ms
2023-08-01 16:07:03.563 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood)'
2023-08-01 16:07:03.564 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/FoodItem/GetByPetAndFoodType?petId=14&foodTypeId=14 - - - 400 - text/plain;+charset=utf-8 143.3626ms
2023-08-01 16:07:07.228 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/FoodItem/GetByPetAndFoodType?petId=1&foodTypeId=14 - -
2023-08-01 16:07:07.242 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood)'
2023-08-01 16:07:07.246 +03:00 [INF] Route matched with {action = "GetFoodItemsByPetAndFoodType", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.FoodItemDto]]] GetFoodItemsByPetAndFoodType(Int32, Int32) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 16:07:07.249 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 16:07:07.255 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Name]
FROM [Pets] AS [p]
WHERE [p].[Id] = @__p_0
2023-08-01 16:07:07.290 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[Description], [f].[Name], [f].[PetId]
FROM [FoodTypes] AS [f]
WHERE [f].[Id] = @__p_0
2023-08-01 16:07:07.294 +03:00 [ERR] FoodTypeId sent from client is invalid: 14. Food type with this Id does not exist.
2023-08-01 16:07:07.296 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-08-01 16:07:07.297 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood) in 49.1204ms
2023-08-01 16:07:07.298 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood)'
2023-08-01 16:07:07.299 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/FoodItem/GetByPetAndFoodType?petId=1&foodTypeId=14 - - - 400 - text/plain;+charset=utf-8 70.7868ms
2023-08-01 16:07:09.495 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/FoodItem/GetByPetAndFoodType?petId=1&foodTypeId=1 - -
2023-08-01 16:07:09.497 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood)'
2023-08-01 16:07:09.509 +03:00 [INF] Route matched with {action = "GetFoodItemsByPetAndFoodType", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.FoodItemDto]]] GetFoodItemsByPetAndFoodType(Int32, Int32) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 16:07:09.514 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 16:07:09.519 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Name]
FROM [Pets] AS [p]
WHERE [p].[Id] = @__p_0
2023-08-01 16:07:09.525 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[Description], [f].[Name], [f].[PetId]
FROM [FoodTypes] AS [f]
WHERE [f].[Id] = @__p_0
2023-08-01 16:07:09.558 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__foodTypeId_0='?' (DbType = Int32), @__petId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Description], [f].[FoodTypeId], [f].[Name], [f].[PetId], [f].[Price]
FROM [FoodItems] AS [f]
WHERE ([f].[FoodTypeId] = @__foodTypeId_0) AND ([f].[PetId] = @__petId_1)
2023-08-01 16:07:09.564 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PetFood.BusinessLogic.Dto.FoodItemDto, PetFood.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-01 16:07:09.567 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood) in 53.276ms
2023-08-01 16:07:09.568 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByPetAndFoodType (PetFood)'
2023-08-01 16:07:09.570 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/FoodItem/GetByPetAndFoodType?petId=1&foodTypeId=1 - - - 200 - application/json;+charset=utf-8 74.0280ms
2023-08-01 16:07:15.589 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/FoodItem/GetByPet?petId=0 - -
2023-08-01 16:07:15.591 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByPet (PetFood)'
2023-08-01 16:07:15.595 +03:00 [INF] Route matched with {action = "GetFoodItemsByPet", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.FoodItemDto]]] GetFoodItemsByPet(Int32) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 16:07:15.598 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 16:07:15.603 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Name]
FROM [Pets] AS [p]
WHERE [p].[Id] = @__p_0
2023-08-01 16:07:15.606 +03:00 [ERR] PetId sent from client is invalid: 0. Pet with this Id does not exist.
2023-08-01 16:07:15.606 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-08-01 16:07:15.607 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.GetFoodItemsByPet (PetFood) in 10.28ms
2023-08-01 16:07:15.609 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByPet (PetFood)'
2023-08-01 16:07:15.610 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/FoodItem/GetByPet?petId=0 - - - 400 - text/plain;+charset=utf-8 20.8979ms
2023-08-01 16:07:19.754 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/FoodItem/GetByPet?petId=-1 - -
2023-08-01 16:07:19.756 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByPet (PetFood)'
2023-08-01 16:07:19.757 +03:00 [INF] Route matched with {action = "GetFoodItemsByPet", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.FoodItemDto]]] GetFoodItemsByPet(Int32) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 16:07:19.761 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 16:07:19.767 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Name]
FROM [Pets] AS [p]
WHERE [p].[Id] = @__p_0
2023-08-01 16:07:19.773 +03:00 [ERR] PetId sent from client is invalid: -1. Pet with this Id does not exist.
2023-08-01 16:07:19.774 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-08-01 16:07:19.777 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.GetFoodItemsByPet (PetFood) in 15.7942ms
2023-08-01 16:07:19.778 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByPet (PetFood)'
2023-08-01 16:07:19.780 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/FoodItem/GetByPet?petId=-1 - - - 400 - text/plain;+charset=utf-8 26.3424ms
2023-08-01 16:07:23.633 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/FoodItem/GetByPet?petId=2 - -
2023-08-01 16:07:23.635 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByPet (PetFood)'
2023-08-01 16:07:23.636 +03:00 [INF] Route matched with {action = "GetFoodItemsByPet", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.FoodItemDto]]] GetFoodItemsByPet(Int32) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 16:07:23.640 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 16:07:23.646 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Name]
FROM [Pets] AS [p]
WHERE [p].[Id] = @__p_0
2023-08-01 16:07:23.659 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__petId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Description], [f].[FoodTypeId], [f].[Name], [f].[PetId], [f].[Price]
FROM [FoodItems] AS [f]
WHERE [f].[PetId] = @__petId_0
2023-08-01 16:07:23.662 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PetFood.BusinessLogic.Dto.FoodItemDto, PetFood.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-01 16:07:23.665 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.GetFoodItemsByPet (PetFood) in 25.5225ms
2023-08-01 16:07:23.666 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByPet (PetFood)'
2023-08-01 16:07:23.668 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/FoodItem/GetByPet?petId=2 - - - 200 - application/json;+charset=utf-8 35.1098ms
2023-08-01 16:07:52.654 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/FoodItem/GetByPet?petId=3 - -
2023-08-01 16:07:52.656 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByPet (PetFood)'
2023-08-01 16:07:52.657 +03:00 [INF] Route matched with {action = "GetFoodItemsByPet", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.FoodItemDto]]] GetFoodItemsByPet(Int32) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 16:07:52.660 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 16:07:52.664 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Name]
FROM [Pets] AS [p]
WHERE [p].[Id] = @__p_0
2023-08-01 16:07:52.666 +03:00 [ERR] PetId sent from client is invalid: 3. Pet with this Id does not exist.
2023-08-01 16:07:52.667 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-08-01 16:07:52.668 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.GetFoodItemsByPet (PetFood) in 9.3878ms
2023-08-01 16:07:52.670 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByPet (PetFood)'
2023-08-01 16:07:52.671 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/FoodItem/GetByPet?petId=3 - - - 400 - text/plain;+charset=utf-8 17.7461ms
2023-08-01 16:08:01.001 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/FoodItem/GetByPet?petId=3 - -
2023-08-01 16:08:01.003 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByPet (PetFood)'
2023-08-01 16:08:01.006 +03:00 [INF] Route matched with {action = "GetFoodItemsByPet", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.FoodItemDto]]] GetFoodItemsByPet(Int32) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 16:08:01.012 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 16:08:01.018 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Name]
FROM [Pets] AS [p]
WHERE [p].[Id] = @__p_0
2023-08-01 16:08:01.020 +03:00 [ERR] PetId sent from client is invalid: 3. Pet with this Id does not exist.
2023-08-01 16:08:01.021 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-08-01 16:08:01.023 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.GetFoodItemsByPet (PetFood) in 11.3429ms
2023-08-01 16:08:01.024 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByPet (PetFood)'
2023-08-01 16:08:01.025 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/FoodItem/GetByPet?petId=3 - - - 400 - text/plain;+charset=utf-8 23.9901ms
2023-08-01 16:08:02.589 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/FoodItem/GetByPet?petId=2 - -
2023-08-01 16:08:02.590 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByPet (PetFood)'
2023-08-01 16:08:02.592 +03:00 [INF] Route matched with {action = "GetFoodItemsByPet", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.FoodItemDto]]] GetFoodItemsByPet(Int32) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 16:08:02.594 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 16:08:02.599 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Name]
FROM [Pets] AS [p]
WHERE [p].[Id] = @__p_0
2023-08-01 16:08:02.604 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__petId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Description], [f].[FoodTypeId], [f].[Name], [f].[PetId], [f].[Price]
FROM [FoodItems] AS [f]
WHERE [f].[PetId] = @__petId_0
2023-08-01 16:08:02.606 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PetFood.BusinessLogic.Dto.FoodItemDto, PetFood.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-01 16:08:02.608 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.GetFoodItemsByPet (PetFood) in 13.6386ms
2023-08-01 16:08:02.609 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByPet (PetFood)'
2023-08-01 16:08:02.610 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/FoodItem/GetByPet?petId=2 - - - 200 - application/json;+charset=utf-8 21.4696ms
2023-08-01 16:08:04.231 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/FoodItem/GetByPet?petId=1 - -
2023-08-01 16:08:04.233 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByPet (PetFood)'
2023-08-01 16:08:04.236 +03:00 [INF] Route matched with {action = "GetFoodItemsByPet", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.FoodItemDto]]] GetFoodItemsByPet(Int32) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 16:08:04.239 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 16:08:04.244 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Name]
FROM [Pets] AS [p]
WHERE [p].[Id] = @__p_0
2023-08-01 16:08:04.250 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__petId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Description], [f].[FoodTypeId], [f].[Name], [f].[PetId], [f].[Price]
FROM [FoodItems] AS [f]
WHERE [f].[PetId] = @__petId_0
2023-08-01 16:08:04.252 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PetFood.BusinessLogic.Dto.FoodItemDto, PetFood.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-01 16:08:04.253 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.GetFoodItemsByPet (PetFood) in 15.1771ms
2023-08-01 16:08:04.255 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByPet (PetFood)'
2023-08-01 16:08:04.256 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/FoodItem/GetByPet?petId=1 - - - 200 - application/json;+charset=utf-8 24.9200ms
2023-08-01 16:08:13.584 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/FoodItem/GetByFoodType?foodTypeId=3 - -
2023-08-01 16:08:13.586 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByFoodType (PetFood)'
2023-08-01 16:08:13.592 +03:00 [INF] Route matched with {action = "GetFoodItemsByFoodType", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.FoodItemDto]]] GetFoodItemsByFoodType(Int32) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 16:08:13.597 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 16:08:13.603 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[Description], [f].[Name], [f].[PetId]
FROM [FoodTypes] AS [f]
WHERE [f].[Id] = @__p_0
2023-08-01 16:08:13.613 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__foodTypeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Description], [f].[FoodTypeId], [f].[Name], [f].[PetId], [f].[Price]
FROM [FoodItems] AS [f]
WHERE [f].[FoodTypeId] = @__foodTypeId_0
2023-08-01 16:08:13.618 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PetFood.BusinessLogic.Dto.FoodItemDto, PetFood.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-01 16:08:13.619 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.GetFoodItemsByFoodType (PetFood) in 22.6872ms
2023-08-01 16:08:13.621 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByFoodType (PetFood)'
2023-08-01 16:08:13.622 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/FoodItem/GetByFoodType?foodTypeId=3 - - - 200 - application/json;+charset=utf-8 37.7320ms
2023-08-01 16:08:16.451 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/FoodItem/GetByFoodType?foodTypeId=2 - -
2023-08-01 16:08:16.452 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByFoodType (PetFood)'
2023-08-01 16:08:16.454 +03:00 [INF] Route matched with {action = "GetFoodItemsByFoodType", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.FoodItemDto]]] GetFoodItemsByFoodType(Int32) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 16:08:16.457 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 16:08:16.464 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[Description], [f].[Name], [f].[PetId]
FROM [FoodTypes] AS [f]
WHERE [f].[Id] = @__p_0
2023-08-01 16:08:16.466 +03:00 [ERR] FoodTypeId sent from client is invalid: 2. Food type with this Id does not exist.
2023-08-01 16:08:16.467 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-08-01 16:08:16.470 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.GetFoodItemsByFoodType (PetFood) in 12.5892ms
2023-08-01 16:08:16.471 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByFoodType (PetFood)'
2023-08-01 16:08:16.473 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/FoodItem/GetByFoodType?foodTypeId=2 - - - 400 - text/plain;+charset=utf-8 21.6968ms
2023-08-01 16:08:18.537 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/FoodItem/GetByFoodType?foodTypeId=1 - -
2023-08-01 16:08:18.538 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByFoodType (PetFood)'
2023-08-01 16:08:18.539 +03:00 [INF] Route matched with {action = "GetFoodItemsByFoodType", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.FoodItemDto]]] GetFoodItemsByFoodType(Int32) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 16:08:18.542 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 16:08:18.548 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[Description], [f].[Name], [f].[PetId]
FROM [FoodTypes] AS [f]
WHERE [f].[Id] = @__p_0
2023-08-01 16:08:18.553 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__foodTypeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Description], [f].[FoodTypeId], [f].[Name], [f].[PetId], [f].[Price]
FROM [FoodItems] AS [f]
WHERE [f].[FoodTypeId] = @__foodTypeId_0
2023-08-01 16:08:18.555 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PetFood.BusinessLogic.Dto.FoodItemDto, PetFood.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-01 16:08:18.557 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.GetFoodItemsByFoodType (PetFood) in 15.0914ms
2023-08-01 16:08:18.558 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByFoodType (PetFood)'
2023-08-01 16:08:18.559 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/FoodItem/GetByFoodType?foodTypeId=1 - - - 200 - application/json;+charset=utf-8 22.5262ms
2023-08-01 16:08:20.981 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/FoodItem/GetByFoodType?foodTypeId=4 - -
2023-08-01 16:08:20.983 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByFoodType (PetFood)'
2023-08-01 16:08:20.985 +03:00 [INF] Route matched with {action = "GetFoodItemsByFoodType", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.FoodItemDto]]] GetFoodItemsByFoodType(Int32) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 16:08:20.990 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 16:08:21.002 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[Description], [f].[Name], [f].[PetId]
FROM [FoodTypes] AS [f]
WHERE [f].[Id] = @__p_0
2023-08-01 16:08:21.005 +03:00 [ERR] FoodTypeId sent from client is invalid: 4. Food type with this Id does not exist.
2023-08-01 16:08:21.006 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2023-08-01 16:08:21.007 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.GetFoodItemsByFoodType (PetFood) in 17.4864ms
2023-08-01 16:08:21.008 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByFoodType (PetFood)'
2023-08-01 16:08:21.009 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/FoodItem/GetByFoodType?foodTypeId=4 - - - 400 - text/plain;+charset=utf-8 28.3019ms
2023-08-01 16:08:23.418 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/FoodItem/GetByFoodType?foodTypeId=3 - -
2023-08-01 16:08:23.419 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByFoodType (PetFood)'
2023-08-01 16:08:23.421 +03:00 [INF] Route matched with {action = "GetFoodItemsByFoodType", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.FoodItemDto]]] GetFoodItemsByFoodType(Int32) on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 16:08:23.423 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 16:08:23.430 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[Id], [f].[Description], [f].[Name], [f].[PetId]
FROM [FoodTypes] AS [f]
WHERE [f].[Id] = @__p_0
2023-08-01 16:08:23.435 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__foodTypeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Description], [f].[FoodTypeId], [f].[Name], [f].[PetId], [f].[Price]
FROM [FoodItems] AS [f]
WHERE [f].[FoodTypeId] = @__foodTypeId_0
2023-08-01 16:08:23.437 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PetFood.BusinessLogic.Dto.FoodItemDto, PetFood.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-01 16:08:23.438 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.GetFoodItemsByFoodType (PetFood) in 14.7792ms
2023-08-01 16:08:23.439 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.GetFoodItemsByFoodType (PetFood)'
2023-08-01 16:08:23.440 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/FoodItem/GetByFoodType?foodTypeId=3 - - - 200 - application/json;+charset=utf-8 22.8531ms
2023-08-01 16:08:52.805 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/FoodType - -
2023-08-01 16:08:52.809 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodTypeController.GetAllFoodTypes (PetFood)'
2023-08-01 16:08:52.814 +03:00 [INF] Route matched with {action = "GetAllFoodTypes", controller = "FoodType"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.FoodTypeDto]]] GetAllFoodTypes() on controller PetFood.Controllers.FoodTypeController (PetFood).
2023-08-01 16:08:52.819 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 16:08:52.829 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Description], [f].[Name], [f].[PetId]
FROM [FoodTypes] AS [f]
2023-08-01 16:08:52.832 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PetFood.BusinessLogic.Dto.FoodTypeDto, PetFood.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-01 16:08:52.835 +03:00 [INF] Executed action PetFood.Controllers.FoodTypeController.GetAllFoodTypes (PetFood) in 17.9989ms
2023-08-01 16:08:52.836 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodTypeController.GetAllFoodTypes (PetFood)'
2023-08-01 16:08:52.837 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/FoodType - - - 200 - application/json;+charset=utf-8 32.5767ms
2023-08-01 16:08:59.584 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7256/api/FoodItem/AllFoodItems - -
2023-08-01 16:08:59.586 +03:00 [INF] Executing endpoint 'PetFood.Controllers.FoodItemController.GetAllFoodItems (PetFood)'
2023-08-01 16:08:59.589 +03:00 [INF] Route matched with {action = "GetAllFoodItems", controller = "FoodItem"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PetFood.BusinessLogic.Dto.FoodItemDto]]] GetAllFoodItems() on controller PetFood.Controllers.FoodItemController (PetFood).
2023-08-01 16:08:59.594 +03:00 [INF] Entity Framework Core 6.0.20 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.20' with options: MigrationsAssembly=PetFood 
2023-08-01 16:08:59.598 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Description], [f].[FoodTypeId], [f].[Name], [f].[PetId], [f].[Price]
FROM [FoodItems] AS [f]
2023-08-01 16:08:59.601 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PetFood.BusinessLogic.Dto.FoodItemDto, PetFood.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-08-01 16:08:59.603 +03:00 [INF] Executed action PetFood.Controllers.FoodItemController.GetAllFoodItems (PetFood) in 11.5238ms
2023-08-01 16:08:59.605 +03:00 [INF] Executed endpoint 'PetFood.Controllers.FoodItemController.GetAllFoodItems (PetFood)'
2023-08-01 16:08:59.605 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7256/api/FoodItem/AllFoodItems - - - 200 - application/json;+charset=utf-8 21.2750ms
